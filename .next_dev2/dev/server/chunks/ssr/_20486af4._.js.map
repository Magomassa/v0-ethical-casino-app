{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8OAAC,6KAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,4KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,8OAAC;QAAa,aAAU;;0BACtB,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,8OAAC,2KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,8OAAC,yMAAK;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,iLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn('flex flex-col gap-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn('flex-1 outline-none', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/lib/firebase/db.ts"],"sourcesContent":["import {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  setDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  query,\r\n  where,\r\n  orderBy,\r\n  addDoc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n} from \"firebase/firestore\"\r\nimport { db } from \"./config\"\r\nimport type {\r\n  User,\r\n  Prize,\r\n  Achievement,\r\n  AchievementTemplate,\r\n  Redemption,\r\n  Mission,\r\n  MissionSubmission,\r\n  Transaction,\r\n  Friendship,\r\n  FriendRequest,\r\n  Donation,\r\n  UserBadge,\r\n} from \"../storage\"\r\n\r\n// Users\r\nexport const getUser = async (userId: string): Promise<User | null> => {\r\n  const userDoc = await getDoc(doc(db, \"users\", userId))\r\n  return userDoc.exists() ? ({ id: userDoc.id, ...userDoc.data() } as User) : null\r\n}\r\n\r\nexport const getAllUsers = async (): Promise<User[]> => {\r\n  const usersSnap = await getDocs(collection(db, \"users\"))\r\n  return usersSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as User))\r\n}\r\n\r\nexport const updateUser = async (userId: string, data: Partial<User>) => {\r\n  await updateDoc(doc(db, \"users\", userId), data)\r\n}\r\n\r\n// Prizes\r\nexport const getAllPrizes = async (): Promise<Prize[]> => {\r\n  const prizesSnap = await getDocs(collection(db, \"prizes\"))\r\n  return prizesSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Prize))\r\n}\r\n\r\nexport const createPrize = async (prize: Omit<Prize, \"id\">) => {\r\n  await addDoc(collection(db, \"prizes\"), prize)\r\n}\r\n\r\nexport const updatePrize = async (prizeId: string, data: Partial<Prize>) => {\r\n  await updateDoc(doc(db, \"prizes\", prizeId), data)\r\n}\r\n\r\nexport const deletePrize = async (prizeId: string) => {\r\n  await deleteDoc(doc(db, \"prizes\", prizeId))\r\n}\r\n\r\n// Achievements\r\nexport const getUserAchievements = async (userId: string): Promise<Achievement[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserAchievements called with undefined userId\")\r\n    return []\r\n  }\r\n  const achievementsSnap = await getDocs(\r\n    query(collection(db, \"achievements\"), where(\"userId\", \"==\", userId))\r\n  )\r\n  const achievements = achievementsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Achievement))\r\n  // Sort on client to avoid composite index requirement\r\n  return achievements.sort((a, b) => {\r\n    const dateA = a.date instanceof Date ? a.date : new Date(a.date)\r\n    const dateB = b.date instanceof Date ? b.date : new Date(b.date)\r\n    return dateB.getTime() - dateA.getTime()\r\n  })\r\n}\r\n\r\nexport const createAchievement = async (achievement: Omit<Achievement, \"id\">) => {\r\n  await addDoc(collection(db, \"achievements\"), achievement)\r\n}\r\n\r\n// Achievement Templates\r\nexport const getAllAchievementTemplates = async (): Promise<AchievementTemplate[]> => {\r\n  const templatesSnap = await getDocs(collection(db, \"achievementTemplates\"))\r\n  return templatesSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as AchievementTemplate))\r\n}\r\n\r\nexport const createAchievementTemplate = async (template: Omit<AchievementTemplate, \"id\">) => {\r\n  await addDoc(collection(db, \"achievementTemplates\"), template)\r\n}\r\n\r\nexport const updateAchievementTemplate = async (templateId: string, data: Partial<AchievementTemplate>) => {\r\n  await updateDoc(doc(db, \"achievementTemplates\", templateId), data)\r\n}\r\n\r\n// Missions\r\nexport const getAllMissions = async (): Promise<Mission[]> => {\r\n  const missionsSnap = await getDocs(collection(db, \"missions\"))\r\n  return missionsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Mission))\r\n}\r\n\r\nexport const createMission = async (mission: Omit<Mission, \"id\">) => {\r\n  await addDoc(collection(db, \"missions\"), mission)\r\n}\r\n\r\nexport const updateMission = async (missionId: string, data: Partial<Mission>) => {\r\n  await updateDoc(doc(db, \"missions\", missionId), data)\r\n}\r\n\r\n// Mission Submissions\r\nexport const getMissionSubmissions = async (missionId?: string): Promise<MissionSubmission[]> => {\r\n  let q = collection(db, \"submissions\")\r\n  if (missionId) {\r\n    q = query(collection(db, \"submissions\"), where(\"missionId\", \"==\", missionId)) as any\r\n  }\r\n  const submissionsSnap = await getDocs(q)\r\n  return submissionsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as MissionSubmission))\r\n}\r\n\r\nexport const createSubmission = async (submission: Omit<MissionSubmission, \"id\">) => {\r\n  await addDoc(collection(db, \"submissions\"), submission)\r\n}\r\n\r\nexport const updateSubmission = async (submissionId: string, data: Partial<MissionSubmission>) => {\r\n  await updateDoc(doc(db, \"submissions\", submissionId), data)\r\n}\r\n\r\n// Friendships\r\nexport const getUserFriendships = async (userId: string): Promise<Friendship[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserFriendships called with undefined userId\")\r\n    return []\r\n  }\r\n  const friendships1 = await getDocs(query(collection(db, \"friendships\"), where(\"user1Id\", \"==\", userId)))\r\n  const friendships2 = await getDocs(query(collection(db, \"friendships\"), where(\"user2Id\", \"==\", userId)))\r\n\r\n  return [...friendships1.docs, ...friendships2.docs].map((doc) => ({ id: doc.id, ...doc.data() } as Friendship))\r\n}\r\n\r\nexport const createFriendship = async (friendship: Omit<Friendship, \"id\">) => {\r\n  await addDoc(collection(db, \"friendships\"), friendship)\r\n}\r\n\r\nexport const deleteFriendship = async (friendshipId: string) => {\r\n  await deleteDoc(doc(db, \"friendships\", friendshipId))\r\n}\r\n\r\n// Friend Requests\r\nexport const getUserFriendRequests = async (userId: string): Promise<FriendRequest[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserFriendRequests called with undefined userId\")\r\n    return []\r\n  }\r\n  const requestsSnap = await getDocs(\r\n    query(collection(db, \"friendRequests\"), where(\"toUserId\", \"==\", userId), where(\"status\", \"==\", \"pending\"))\r\n  )\r\n  return requestsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as FriendRequest))\r\n}\r\n\r\nexport const createFriendRequest = async (request: Omit<FriendRequest, \"id\">) => {\r\n  await addDoc(collection(db, \"friendRequests\"), request)\r\n}\r\n\r\nexport const updateFriendRequest = async (requestId: string, data: Partial<FriendRequest>) => {\r\n  await updateDoc(doc(db, \"friendRequests\", requestId), data)\r\n}\r\n\r\n// Donations\r\nexport const getUserDonations = async (userId: string): Promise<Donation[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserDonations called with undefined userId\")\r\n    return []\r\n  }\r\n  const donationsSnap = await getDocs(query(collection(db, \"donations\"), where(\"fromUserId\", \"==\", userId)))\r\n  return donationsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Donation))\r\n}\r\n\r\nexport const createDonation = async (donation: Omit<Donation, \"id\">) => {\r\n  await addDoc(collection(db, \"donations\"), donation)\r\n}\r\n\r\n// Transactions\r\nexport const getUserTransactions = async (userId: string): Promise<Transaction[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserTransactions called with undefined userId\")\r\n    return []\r\n  }\r\n  const transactionsSnap = await getDocs(\r\n    query(collection(db, \"transactions\"), where(\"userId\", \"==\", userId))\r\n  )\r\n  const transactions = transactionsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Transaction))\r\n  // Sort on client to avoid composite index requirement\r\n  return transactions.sort((a, b) => {\r\n    const dateA = a.date instanceof Date ? a.date : new Date(a.date)\r\n    const dateB = b.date instanceof Date ? b.date : new Date(b.date)\r\n    return dateB.getTime() - dateA.getTime()\r\n  })\r\n}\r\n\r\nexport const createTransaction = async (transaction: Omit<Transaction, \"id\">) => {\r\n  await addDoc(collection(db, \"transactions\"), transaction)\r\n}\r\n\r\n// Redemptions\r\nexport const getAllRedemptions = async (): Promise<Redemption[]> => {\r\n  const redemptionsSnap = await getDocs(collection(db, \"redemptions\"))\r\n  return redemptionsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as Redemption))\r\n}\r\n\r\nexport const createRedemption = async (redemption: Omit<Redemption, \"id\">) => {\r\n  await addDoc(collection(db, \"redemptions\"), redemption)\r\n}\r\n\r\n// User Badges\r\nexport const getUserBadges = async (userId: string): Promise<UserBadge[]> => {\r\n  if (!userId) {\r\n    console.error(\"[v0] getUserBadges called with undefined userId\")\r\n    return []\r\n  }\r\n  const badgesSnap = await getDocs(query(collection(db, \"userBadges\"), where(\"userId\", \"==\", userId)))\r\n  return badgesSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() } as UserBadge))\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 714, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/games/slots-game.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\n\r\nconst symbols = [\"ðŸ’\", \"ðŸ‹\", \"ðŸŠ\", \"ðŸ‡\", \"â­\", \"ðŸ’Ž\"]\r\n\r\nexport function SlotsGame({\r\n  currentTokens,\r\n  onGameEnd,\r\n  onClose,\r\n}: {\r\n  currentTokens: number\r\n  onGameEnd: (tokensWon: number) => void\r\n  onClose: () => void\r\n}) {\r\n  const [bet, setBet] = useState(10)\r\n  const [reels, setReels] = useState([\"ðŸ’\", \"ðŸ’\", \"ðŸ’\"])\r\n  const [spinning, setSpinning] = useState(false)\r\n  const [result, setResult] = useState(\"\")\r\n\r\n  const spin = () => {\r\n    if (bet > currentTokens || bet < 1) return\r\n\r\n    setSpinning(true)\r\n    setResult(\"\")\r\n\r\n    // Animate spinning\r\n    const spinInterval = setInterval(() => {\r\n      setReels([\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n      ])\r\n    }, 100)\r\n\r\n    setTimeout(() => {\r\n      clearInterval(spinInterval)\r\n      const finalReels = [\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n        symbols[Math.floor(Math.random() * symbols.length)],\r\n      ]\r\n      setReels(finalReels)\r\n      setSpinning(false)\r\n\r\n      // Check win\r\n      if (finalReels[0] === finalReels[1] && finalReels[1] === finalReels[2]) {\r\n        // Three of a kind\r\n        const winAmount = bet * 10\r\n        setResult(`Â¡GANASTE! +${winAmount} fichas`)\r\n        onGameEnd(winAmount)\r\n      } else if (finalReels[0] === finalReels[1] || finalReels[1] === finalReels[2]) {\r\n        // Two of a kind\r\n        const winAmount = bet * 2\r\n        setResult(`Â¡Par! +${winAmount} fichas`)\r\n        onGameEnd(winAmount)\r\n      } else {\r\n        setResult(`Perdiste ${bet} fichas`)\r\n        onGameEnd(-bet)\r\n      }\r\n    }, 2000)\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-center gap-4\">\r\n        {reels.map((symbol, i) => (\r\n          <Card key={i} className=\"w-24 h-24 flex items-center justify-center text-5xl bg-accent\">\r\n            <CardContent className=\"p-0\">{symbol}</CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      {result && (\r\n        <div\r\n          className={`text-center text-lg font-bold ${result.includes(\"GANASTE\") ? \"text-secondary\" : \"text-muted-foreground\"}`}\r\n        >\r\n          {result}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"bet\">Apuesta (fichas)</Label>\r\n          <Input\r\n            id=\"bet\"\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max={currentTokens}\r\n            value={bet}\r\n            onChange={(e) => setBet(Number.parseInt(e.target.value) || 1)}\r\n            disabled={spinning}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={spin} disabled={spinning || bet > currentTokens} className=\"flex-1\">\r\n            {spinning ? \"Girando...\" : \"Girar\"}\r\n          </Button>\r\n          <Button onClick={onClose} variant=\"outline\">\r\n            Cerrar\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"text-xs text-muted-foreground text-center space-y-1\">\r\n          <p>3 iguales: 10x apuesta</p>\r\n          <p>2 iguales: 2x apuesta</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 920, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/games/blackjack-game.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\ntype Card = { suit: string; value: string; numValue: number }\r\n\r\nconst suits = [\"â™ \", \"â™¥\", \"â™¦\", \"â™£\"]\r\nconst values = [\r\n  { value: \"A\", numValue: 11 },\r\n  { value: \"2\", numValue: 2 },\r\n  { value: \"3\", numValue: 3 },\r\n  { value: \"4\", numValue: 4 },\r\n  { value: \"5\", numValue: 5 },\r\n  { value: \"6\", numValue: 6 },\r\n  { value: \"7\", numValue: 7 },\r\n  { value: \"8\", numValue: 8 },\r\n  { value: \"9\", numValue: 9 },\r\n  { value: \"10\", numValue: 10 },\r\n  { value: \"J\", numValue: 10 },\r\n  { value: \"Q\", numValue: 10 },\r\n  { value: \"K\", numValue: 10 },\r\n]\r\n\r\nexport function BlackjackGame({\r\n  currentTokens,\r\n  onGameEnd,\r\n  onClose,\r\n}: {\r\n  currentTokens: number\r\n  onGameEnd: (tokensWon: number) => void\r\n  onClose: () => void\r\n}) {\r\n  const [bet, setBet] = useState(10)\r\n  const [gameStarted, setGameStarted] = useState(false)\r\n  const [playerHand, setPlayerHand] = useState<Card[]>([])\r\n  const [dealerHand, setDealerHand] = useState<Card[]>([])\r\n  const [result, setResult] = useState(\"\")\r\n  const [gameOver, setGameOver] = useState(false)\r\n\r\n  const createDeck = (): Card[] => {\r\n    const deck: Card[] = []\r\n    for (const suit of suits) {\r\n      for (const { value, numValue } of values) {\r\n        deck.push({ suit, value, numValue })\r\n      }\r\n    }\r\n    return deck.sort(() => Math.random() - 0.5)\r\n  }\r\n\r\n  const calculateScore = (hand: Card[]): number => {\r\n    let score = hand.reduce((sum, card) => sum + card.numValue, 0)\r\n    let aces = hand.filter((card) => card.value === \"A\").length\r\n\r\n    while (score > 21 && aces > 0) {\r\n      score -= 10\r\n      aces--\r\n    }\r\n\r\n    return score\r\n  }\r\n\r\n  const startGame = () => {\r\n    if (bet > currentTokens || bet < 1) return\r\n\r\n    const deck = createDeck()\r\n    const newPlayerHand = [deck[0], deck[2]]\r\n    const newDealerHand = [deck[1], deck[3]]\r\n\r\n    setPlayerHand(newPlayerHand)\r\n    setDealerHand(newDealerHand)\r\n    setGameStarted(true)\r\n    setResult(\"\")\r\n    setGameOver(false)\r\n  }\r\n\r\n  const hit = () => {\r\n    const deck = createDeck()\r\n    const newHand = [...playerHand, deck[0]]\r\n    setPlayerHand(newHand)\r\n\r\n    const score = calculateScore(newHand)\r\n    if (score > 21) {\r\n      endGame(newHand, dealerHand)\r\n    }\r\n  }\r\n\r\n  const stand = () => {\r\n    const newDealerHand = [...dealerHand]\r\n    const deck = createDeck()\r\n    let deckIndex = 0\r\n\r\n    while (calculateScore(newDealerHand) < 17) {\r\n      newDealerHand.push(deck[deckIndex++])\r\n    }\r\n\r\n    setDealerHand(newDealerHand)\r\n    endGame(playerHand, newDealerHand)\r\n  }\r\n\r\n  const endGame = (finalPlayerHand: Card[], finalDealerHand: Card[]) => {\r\n    const playerScore = calculateScore(finalPlayerHand)\r\n    const dealerScore = calculateScore(finalDealerHand)\r\n\r\n    setGameOver(true)\r\n\r\n    if (playerScore > 21) {\r\n      setResult(`Te pasaste! Perdiste ${bet} fichas`)\r\n      onGameEnd(-bet)\r\n    } else if (dealerScore > 21) {\r\n      setResult(`Â¡Dealer se pasÃ³! Ganaste ${bet * 2} fichas`)\r\n      onGameEnd(bet * 2)\r\n    } else if (playerScore > dealerScore) {\r\n      setResult(`Â¡Ganaste! +${bet * 2} fichas`)\r\n      onGameEnd(bet * 2)\r\n    } else if (playerScore < dealerScore) {\r\n      setResult(`Perdiste ${bet} fichas`)\r\n      onGameEnd(-bet)\r\n    } else {\r\n      setResult(\"Empate! Recuperas tu apuesta\")\r\n      onGameEnd(0)\r\n    }\r\n  }\r\n\r\n  const renderCard = (card: Card) => (\r\n    <div\r\n      className={`w-16 h-24 bg-card border-2 rounded-lg flex flex-col items-center justify-center text-2xl font-bold ${card.suit === \"â™¥\" || card.suit === \"â™¦\" ? \"text-red-500\" : \"text-foreground\"}`}\r\n    >\r\n      <div>{card.value}</div>\r\n      <div className=\"text-xl\">{card.suit}</div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {!gameStarted ? (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"blackjack-bet\">Apuesta (fichas)</Label>\r\n            <Input\r\n              id=\"blackjack-bet\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max={currentTokens}\r\n              value={bet}\r\n              onChange={(e) => setBet(Number.parseInt(e.target.value) || 1)}\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button onClick={startGame} disabled={bet > currentTokens} className=\"flex-1\">\r\n              Iniciar juego\r\n            </Button>\r\n            <Button onClick={onClose} variant=\"outline\">\r\n              Cerrar\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"font-semibold\">Dealer</span>\r\n                <Badge>{calculateScore(dealerHand)}</Badge>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                {dealerHand.map((card, i) => (\r\n                  <div key={i}>\r\n                    {!gameOver && i === 1 ? (\r\n                      <div className=\"w-16 h-24 bg-muted border-2 rounded-lg\" />\r\n                    ) : (\r\n                      renderCard(card)\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"font-semibold\">Tu mano</span>\r\n                <Badge variant=\"secondary\">{calculateScore(playerHand)}</Badge>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                {playerHand.map((card, i) => (\r\n                  <div key={i}>{renderCard(card)}</div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {result && (\r\n            <div\r\n              className={`text-center text-lg font-bold ${result.includes(\"Ganaste\") ? \"text-secondary\" : \"text-muted-foreground\"}`}\r\n            >\r\n              {result}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-2\">\r\n            {!gameOver ? (\r\n              <>\r\n                <Button onClick={hit} className=\"flex-1\">\r\n                  Pedir\r\n                </Button>\r\n                <Button onClick={stand} variant=\"secondary\" className=\"flex-1\">\r\n                  Plantarse\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button onClick={() => setGameStarted(false)} className=\"flex-1\">\r\n                  Nueva ronda\r\n                </Button>\r\n                <Button onClick={onClose} variant=\"outline\">\r\n                  Cerrar\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/games/roulette-game.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\nconst numbers = Array.from({ length: 37 }, (_, i) => i) // 0-36\r\nconst redNumbers = [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36]\r\n\r\nexport function RouletteGame({\r\n  currentTokens,\r\n  onGameEnd,\r\n  onClose,\r\n}: {\r\n  currentTokens: number\r\n  onGameEnd: (tokensWon: number) => void\r\n  onClose: () => void\r\n}) {\r\n  const [bet, setBet] = useState(10)\r\n  const [betType, setBetType] = useState<\"red\" | \"black\" | \"even\" | \"odd\" | null>(null)\r\n  const [spinning, setSpinning] = useState(false)\r\n  const [result, setResult] = useState<number | null>(null)\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  const spin = () => {\r\n    if (!betType || bet > currentTokens || bet < 1) return\r\n\r\n    setSpinning(true)\r\n    setMessage(\"\")\r\n\r\n    setTimeout(() => {\r\n      const winningNumber = numbers[Math.floor(Math.random() * numbers.length)]\r\n      setResult(winningNumber)\r\n      setSpinning(false)\r\n\r\n      // Determine if won\r\n      let won = false\r\n      if (betType === \"red\" && redNumbers.includes(winningNumber)) won = true\r\n      if (betType === \"black\" && !redNumbers.includes(winningNumber) && winningNumber !== 0) won = true\r\n      if (betType === \"even\" && winningNumber !== 0 && winningNumber % 2 === 0) won = true\r\n      if (betType === \"odd\" && winningNumber % 2 !== 0) won = true\r\n\r\n      if (won) {\r\n        const winAmount = bet * 2\r\n        setMessage(`Â¡GANASTE! El ${winningNumber} saliÃ³. +${winAmount} fichas`)\r\n        onGameEnd(winAmount)\r\n      } else {\r\n        setMessage(`SaliÃ³ ${winningNumber}. Perdiste ${bet} fichas`)\r\n        onGameEnd(-bet)\r\n      }\r\n    }, 2000)\r\n  }\r\n\r\n  const getNumberColor = (num: number) => {\r\n    if (num === 0) return \"bg-secondary/20 text-secondary-foreground\"\r\n    return redNumbers.includes(num) ? \"bg-red-500 text-white\" : \"bg-gray-800 text-white\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {result !== null && (\r\n        <div className=\"flex justify-center\">\r\n          <div\r\n            className={`w-24 h-24 rounded-full flex items-center justify-center text-4xl font-bold ${getNumberColor(result)}`}\r\n          >\r\n            {result}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {message && (\r\n        <div\r\n          className={`text-center text-lg font-bold ${message.includes(\"GANASTE\") ? \"text-secondary\" : \"text-muted-foreground\"}`}\r\n        >\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"roulette-bet\">Apuesta (fichas)</Label>\r\n          <Input\r\n            id=\"roulette-bet\"\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max={currentTokens}\r\n            value={bet}\r\n            onChange={(e) => setBet(Number.parseInt(e.target.value) || 1)}\r\n            disabled={spinning}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>Elige tu apuesta:</Label>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            <Button\r\n              variant={betType === \"red\" ? \"default\" : \"outline\"}\r\n              onClick={() => setBetType(\"red\")}\r\n              disabled={spinning}\r\n              className=\"bg-red-500 hover:bg-red-600 text-white\"\r\n            >\r\n              Rojo (2x)\r\n            </Button>\r\n            <Button\r\n              variant={betType === \"black\" ? \"default\" : \"outline\"}\r\n              onClick={() => setBetType(\"black\")}\r\n              disabled={spinning}\r\n              className=\"bg-gray-800 hover:bg-gray-900 text-white\"\r\n            >\r\n              Negro (2x)\r\n            </Button>\r\n            <Button\r\n              variant={betType === \"even\" ? \"default\" : \"outline\"}\r\n              onClick={() => setBetType(\"even\")}\r\n              disabled={spinning}\r\n            >\r\n              Par (2x)\r\n            </Button>\r\n            <Button\r\n              variant={betType === \"odd\" ? \"default\" : \"outline\"}\r\n              onClick={() => setBetType(\"odd\")}\r\n              disabled={spinning}\r\n            >\r\n              Impar (2x)\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={spin} disabled={spinning || !betType || bet > currentTokens} className=\"flex-1\">\r\n            {spinning ? \"Girando...\" : \"Girar ruleta\"}\r\n          </Button>\r\n          <Button onClick={onClose} variant=\"outline\">\r\n            Cerrar\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1606, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ai-motivator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Sparkles } from \"lucide-react\"\r\n\r\nconst motivationalMessages = [\r\n  \"Â¡Excelente trabajo! Tus fichas estÃ¡n creciendo. ðŸ’ª\",\r\n  \"Recuerda tomar un descanso de 5 minutos cada hora. â˜•\",\r\n  \"Tu progreso es impresionante. Â¡Sigue asÃ­! ðŸŒŸ\",\r\n  \"Hora de estirarte un poco. Tu bienestar es importante. ðŸ§˜\",\r\n  \"Â¡Has logrado mucho hoy! MantÃ©n el ritmo. ðŸš€\",\r\n  \"Tomar agua es clave para mantener la concentraciÃ³n. ðŸ’§\",\r\n  \"Tu dedicaciÃ³n marca la diferencia. Â¡Eres increÃ­ble! â­\",\r\n  \"Un breve paseo puede renovar tu energÃ­a. ðŸš¶\",\r\n]\r\n\r\nconst tokenMilestones = [\r\n  { threshold: 1000, message: \"Â¡Wow! Has alcanzado 1000 fichas. Â¡Eres una estrella! ðŸŒŸ\" },\r\n  { threshold: 500, message: \"Â¡Medio millar de fichas! Vas por buen camino. ðŸŽ¯\" },\r\n  { threshold: 100, message: \"Â¡Primera centena! Tu esfuerzo estÃ¡ dando frutos. ðŸŒ±\" },\r\n]\r\n\r\nexport function AIMotivator({ userName, tokens }: { userName: string; tokens: number }) {\r\n  const [message, setMessage] = useState(\"\")\r\n  const [isVisible, setIsVisible] = useState(true)\r\n\r\n  useEffect(() => {\r\n    // Check for token milestones\r\n    const milestone = tokenMilestones.find((m) => tokens >= m.threshold)\r\n    if (milestone) {\r\n      setMessage(milestone.message)\r\n      return\r\n    }\r\n\r\n    // Random motivational message\r\n    const randomMessage = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)]\r\n    setMessage(`Â¡Hola ${userName}! ${randomMessage}`)\r\n\r\n    // Rotate message every 2 minutes\r\n    const interval = setInterval(() => {\r\n      const newMessage = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)]\r\n      setMessage(`Â¡Hola ${userName}! ${newMessage}`)\r\n    }, 120000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [userName, tokens])\r\n\r\n  if (!isVisible) return null\r\n\r\n  return (\r\n    <Card className=\"border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5\">\r\n      <CardContent className=\"flex items-start gap-3 p-4\">\r\n        <div className=\"bg-primary text-primary-foreground p-2 rounded-lg shrink-0\">\r\n          <Sparkles className=\"h-5 w-5\" />\r\n        </div>\r\n        <div className=\"flex-1\">\r\n          <p className=\"text-sm font-medium text-balance\">{message}</p>\r\n          <p className=\"text-xs text-muted-foreground mt-1\">MotivaAI - Tu asistente motivacional</p>\r\n        </div>\r\n        <button onClick={() => setIsVisible(false)} className=\"text-muted-foreground hover:text-foreground text-xs\">\r\n          âœ•\r\n        </button>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAuB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,kBAAkB;IACtB;QAAE,WAAW;QAAM,SAAS;IAA0D;IACtF;QAAE,WAAW;QAAK,SAAS;IAAmD;IAC9E;QAAE,WAAW;QAAK,SAAS;IAAsD;CAClF;AAEM,SAAS,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAwC;IACpF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,6BAA6B;QAC7B,MAAM,YAAY,gBAAgB,IAAI,CAAC,CAAC,IAAM,UAAU,EAAE,SAAS;QACnE,IAAI,WAAW;YACb,WAAW,UAAU,OAAO;YAC5B;QACF;QAEA,8BAA8B;QAC9B,MAAM,gBAAgB,oBAAoB,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,qBAAqB,MAAM,EAAE;QACnG,WAAW,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,eAAe;QAEhD,iCAAiC;QACjC,MAAM,WAAW,YAAY;YAC3B,MAAM,aAAa,oBAAoB,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,qBAAqB,MAAM,EAAE;YAChG,WAAW,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,YAAY;QAC/C,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAU;KAAO;IAErB,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,8OAAC,iIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,wIAAW;YAAC,WAAU;;8BACrB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;;;;;;8BAEtB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAoC;;;;;;sCACjD,8OAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;;8BAEpD,8OAAC;oBAAO,SAAS,IAAM,aAAa;oBAAQ,WAAU;8BAAsD;;;;;;;;;;;;;;;;;AAMpH","debugId":null}},
    {"offset": {"line": 1736, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1760, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,kHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,aAAU;YACV,WAAW,IAAA,kHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,oLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,sLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC","debugId":null}},
    {"offset": {"line": 1993, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/lib/storage.ts"],"sourcesContent":["import { \r\n  getAllUsers, \r\n  getAllPrizes, \r\n  getUserAchievements,\r\n  getAllAchievementTemplates,\r\n  getAllRedemptions,\r\n  getAllMissions,\r\n  getMissionSubmissions as getFirebaseMissionSubmissions,\r\n  getUserTransactions,\r\n  getUserFriendRequests as getFirebaseFriendRequests,\r\n  getUserFriendships,\r\n  getUserDonations as getFirebaseDonations,\r\n  getUserBadges as getFirebaseUserBadges\r\n} from \"./firebase/db\"\r\n\r\nexport interface User {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  password: string\r\n  role: \"employee\" | \"admin\"\r\n  tokens: number\r\n  department: string\r\n  createdAt: string\r\n}\r\n\r\nexport interface AchievementTemplate {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  reward: number\r\n  badgeUrl: string\r\n  platinumRequirement: number\r\n  category: \"esfuerzo\" | \"productividad\" | \"aprendizaje\" | \"innovacion\" | \"colaboracion\"\r\n}\r\n\r\nexport interface Achievement {\r\n  id: string\r\n  userId: string\r\n  templateId: string\r\n  title: string\r\n  description: string\r\n  tokensAwarded: number\r\n  date: string\r\n  count: number // How many times this achievement has been earned\r\n}\r\n\r\nexport interface Prize {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  cost: number\r\n  image: string\r\n  available: boolean\r\n  discount?: number // Percentage discount (0-100)\r\n  label?: string // Special label like \"Por tiempo limitado\"\r\n  originalCost?: number // Original cost before discount\r\n}\r\n\r\nexport interface Redemption {\r\n  id: string\r\n  userId: string\r\n  prizeId: string\r\n  prizeName: string\r\n  tokensCost: number\r\n  date: string\r\n  status: \"pending\" | \"completed\"\r\n}\r\n\r\nexport interface Mission {\r\n  id: string\r\n  title: string\r\n  type: \"curso\" | \"proyecto\" | \"voluntariado\" | \"idea\"\r\n  description: string\r\n  tokenReward: number\r\n  evidenceRequired: boolean\r\n  startAt?: string\r\n  endAt?: string\r\n  active: boolean\r\n  tags: string[]\r\n  maxPerUser: number\r\n}\r\n\r\nexport interface MissionSubmission {\r\n  id: string\r\n  missionId: string\r\n  userId: string\r\n  evidenceUrl?: string\r\n  evidenceText?: string\r\n  status: \"pending\" | \"approved\" | \"rejected\"\r\n  reviewedBy?: string\r\n  reviewNotes?: string\r\n  createdAt: string\r\n  reviewedAt?: string\r\n}\r\n\r\nexport interface Donation {\r\n  id: string\r\n  fromUserId: string\r\n  toUserId: string\r\n  amount: number\r\n  date: string\r\n  weekNumber: number // For weekly limit tracking\r\n}\r\n\r\nexport interface Friendship {\r\n  id: string\r\n  user1Id: string\r\n  user2Id: string\r\n  createdAt: string\r\n}\r\n\r\nexport interface UserBadge {\r\n  userId: string\r\n  templateId: string\r\n  rank: \"bronze\" | \"silver\" | \"gold\" | \"platinum\"\r\n  count: number\r\n  earnedAt: string\r\n}\r\n\r\nexport interface FriendRequest {\r\n  id: string\r\n  fromUserId: string\r\n  toUserId: string\r\n  status: \"pending\" | \"accepted\" | \"rejected\"\r\n  createdAt: string\r\n}\r\n\r\nexport type TransactionSource = \"mission\" | \"play\" | \"admin\" | \"reward\" | \"bonus\" | \"achievement\" | \"donation\"\r\n\r\nexport interface Transaction {\r\n  id: string\r\n  userId: string\r\n  type: \"credit\" | \"debit\"\r\n  amount: number\r\n  source: TransactionSource\r\n  sourceRef?: string\r\n  description: string\r\n  date: string\r\n}\r\n\r\nexport const getUsers = async (): Promise<User[]> => {\r\n  return await getAllUsers()\r\n}\r\n\r\nexport const saveUsers = async (users: User[]) => {\r\n  // Firebase saves users individually via updateUser\r\n  console.warn(\"[v0] saveUsers is deprecated with Firebase. Use individual user updates instead.\")\r\n}\r\n\r\nexport const getPrizes = async (): Promise<Prize[]> => {\r\n  return await getAllPrizes()\r\n}\r\n\r\nexport const savePrizes = async (prizes: Prize[]) => {\r\n  console.warn(\"[v0] savePrizes is deprecated with Firebase. Use individual prize updates instead.\")\r\n}\r\n\r\nexport const getAchievements = async (userId?: string): Promise<Achievement[]> => {\r\n  if (userId) {\r\n    return await getUserAchievements(userId)\r\n  }\r\n  // Get all achievements - need to implement in firebase/db.ts\r\n  return []\r\n}\r\n\r\nexport const saveAchievements = async (achievements: Achievement[]) => {\r\n  console.warn(\"[v0] saveAchievements is deprecated with Firebase. Use createAchievement instead.\")\r\n}\r\n\r\nexport const getRedemptions = async (): Promise<Redemption[]> => {\r\n  return await getAllRedemptions()\r\n}\r\n\r\nexport const saveRedemptions = async (redemptions: Redemption[]) => {\r\n  console.warn(\"[v0] saveRedemptions is deprecated with Firebase. Use createRedemption instead.\")\r\n}\r\n\r\nexport const getMissions = async (): Promise<Mission[]> => {\r\n  return await getAllMissions()\r\n}\r\n\r\nexport const saveMissions = async (missions: Mission[]) => {\r\n  console.warn(\"[v0] saveMissions is deprecated with Firebase. Use individual mission updates instead.\")\r\n}\r\n\r\nexport const getMissionSubmissions = async (missionId?: string): Promise<MissionSubmission[]> => {\r\n  return await getFirebaseMissionSubmissions(missionId)\r\n}\r\n\r\nexport const saveMissionSubmissions = async (submissions: MissionSubmission[]) => {\r\n  console.warn(\"[v0] saveMissionSubmissions is deprecated with Firebase. Use createSubmission or updateSubmission instead.\")\r\n}\r\n\r\nexport const getTransactions = async (userId?: string): Promise<Transaction[]> => {\r\n  if (userId) {\r\n    return await getUserTransactions(userId)\r\n  }\r\n  return []\r\n}\r\n\r\nexport const saveTransactions = async (transactions: Transaction[]) => {\r\n  console.warn(\"[v0] saveTransactions is deprecated with Firebase. Use createTransaction instead.\")\r\n}\r\n\r\nexport const getFriendRequests = async (userId?: string): Promise<FriendRequest[]> => {\r\n  if (userId) {\r\n    return await getFirebaseFriendRequests(userId)\r\n  }\r\n  return []\r\n}\r\n\r\nexport const saveFriendRequests = async (requests: FriendRequest[]) => {\r\n  console.warn(\"[v0] saveFriendRequests is deprecated with Firebase.\")\r\n}\r\n\r\nexport const getFriendships = async (userId?: string): Promise<Friendship[]> => {\r\n  if (userId) {\r\n    return await getUserFriendships(userId)\r\n  }\r\n  return []\r\n}\r\n\r\nexport const saveFriendships = async (friendships: Friendship[]) => {\r\n  console.warn(\"[v0] saveFriendships is deprecated with Firebase.\")\r\n}\r\n\r\nexport const getDonations = async (userId?: string): Promise<Donation[]> => {\r\n  if (userId) {\r\n    return await getFirebaseDonations(userId)\r\n  }\r\n  return []\r\n}\r\n\r\nexport const saveDonations = async (donations: Donation[]) => {\r\n  console.warn(\"[v0] saveDonations is deprecated with Firebase.\")\r\n}\r\n\r\nexport const getAchievementTemplates = async (): Promise<AchievementTemplate[]> => {\r\n  return await getAllAchievementTemplates()\r\n}\r\n\r\nexport const saveAchievementTemplates = async (templates: AchievementTemplate[]) => {\r\n  console.warn(\"[v0] saveAchievementTemplates is deprecated with Firebase.\")\r\n}\r\n\r\nexport const getUserBadges = async (userId?: string): Promise<UserBadge[]> => {\r\n  if (userId) {\r\n    return await getFirebaseUserBadges(userId)\r\n  }\r\n  return []\r\n}\r\n\r\nexport const saveUserBadges = async (badges: UserBadge[]) => {\r\n  console.warn(\"[v0] saveUserBadges is deprecated with Firebase.\")\r\n}\r\n\r\nexport const resetStorage = () => {\r\n  console.warn(\"[v0] resetStorage is not supported with Firebase. Use Firebase Console to reset data.\")\r\n}\r\n\r\nexport const getWeekNumber = (date: Date): number => {\r\n  const startOfYear = new Date(date.getFullYear(), 0, 1)\r\n  const diff = date.getTime() - startOfYear.getTime()\r\n  return Math.floor(diff / (7 * 24 * 60 * 60 * 1000))\r\n}\r\n\r\n// Storage initialization is handled by Firebase. Run seed script if needed.\r\nexport const initializeStorage = () => {\r\n  console.log(\"[v0] Storage initialization is handled by Firebase. Run seed script if needed.\")\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AA6IO,MAAM,WAAW;IACtB,OAAO,MAAM,IAAA,oIAAW;AAC1B;AAEO,MAAM,YAAY,OAAO;IAC9B,mDAAmD;IACnD,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,YAAY;IACvB,OAAO,MAAM,IAAA,qIAAY;AAC3B;AAEO,MAAM,aAAa,OAAO;IAC/B,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,kBAAkB,OAAO;IACpC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,4IAAmB,EAAC;IACnC;IACA,6DAA6D;IAC7D,OAAO,EAAE;AACX;AAEO,MAAM,mBAAmB,OAAO;IACrC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,iBAAiB;IAC5B,OAAO,MAAM,IAAA,0IAAiB;AAChC;AAEO,MAAM,kBAAkB,OAAO;IACpC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,cAAc;IACzB,OAAO,MAAM,IAAA,uIAAc;AAC7B;AAEO,MAAM,eAAe,OAAO;IACjC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,wBAAwB,OAAO;IAC1C,OAAO,MAAM,IAAA,8IAA6B,EAAC;AAC7C;AAEO,MAAM,yBAAyB,OAAO;IAC3C,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,kBAAkB,OAAO;IACpC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,4IAAmB,EAAC;IACnC;IACA,OAAO,EAAE;AACX;AAEO,MAAM,mBAAmB,OAAO;IACrC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,oBAAoB,OAAO;IACtC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,8IAAyB,EAAC;IACzC;IACA,OAAO,EAAE;AACX;AAEO,MAAM,qBAAqB,OAAO;IACvC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,iBAAiB,OAAO;IACnC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,2IAAkB,EAAC;IAClC;IACA,OAAO,EAAE;AACX;AAEO,MAAM,kBAAkB,OAAO;IACpC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,eAAe,OAAO;IACjC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,yIAAoB,EAAC;IACpC;IACA,OAAO,EAAE;AACX;AAEO,MAAM,gBAAgB,OAAO;IAClC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,0BAA0B;IACrC,OAAO,MAAM,IAAA,mJAA0B;AACzC;AAEO,MAAM,2BAA2B,OAAO;IAC7C,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI,QAAQ;QACV,OAAO,MAAM,IAAA,sIAAqB,EAAC;IACrC;IACA,OAAO,EAAE;AACX;AAEO,MAAM,iBAAiB,OAAO;IACnC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,eAAe;IAC1B,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,cAAc,IAAI,KAAK,KAAK,WAAW,IAAI,GAAG;IACpD,MAAM,OAAO,KAAK,OAAO,KAAK,YAAY,OAAO;IACjD,OAAO,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,KAAK,KAAK,KAAK,IAAI;AACnD;AAGO,MAAM,oBAAoB;IAC/B,QAAQ,GAAG,CAAC;AACd","debugId":null}},
    {"offset": {"line": 2158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/missions/employee-missions.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n  getMissions,\r\n  getMissionSubmissions,\r\n  saveMissionSubmissions,\r\n  type Mission,\r\n  type MissionSubmission,\r\n} from \"@/lib/storage\"\r\nimport { Target, Coins, Clock, CheckCircle2, XCircle, AlertCircle } from 'lucide-react'\r\n\r\ninterface EmployeeMissionsProps {\r\n  userId: string\r\n}\r\n\r\nexport function EmployeeMissions({ userId }: EmployeeMissionsProps) {\r\n  const [missions, setMissions] = useState<Mission[]>([])\r\n  const [submissions, setSubmissions] = useState<MissionSubmission[]>([])\r\n  const [selectedMission, setSelectedMission] = useState<Mission | null>(null)\r\n  const [submitDialogOpen, setSubmitDialogOpen] = useState(false)\r\n  const [filterType, setFilterType] = useState<string>(\"all\")\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const allMissions = await getMissions()\r\n        const allSubmissions = await getMissionSubmissions()\r\n        \r\n        setMissions(allMissions.filter((m) => m.active))\r\n        setSubmissions(allSubmissions.filter((s) => s.userId === userId))\r\n      } catch (error) {\r\n        console.error(\"[v0] Error loading missions:\", error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    \r\n    if (userId) {\r\n      loadData()\r\n    }\r\n  }, [userId])\r\n\r\n  const getUserSubmissionsForMission = (missionId: string) => {\r\n    return submissions.filter((s) => s.missionId === missionId && s.status === \"approved\").length\r\n  }\r\n\r\n  const canSubmitMission = (mission: Mission) => {\r\n    const approvedCount = getUserSubmissionsForMission(mission.id)\r\n    if (approvedCount >= mission.maxPerUser) return false\r\n    if (mission.endAt && new Date(mission.endAt) < new Date()) return false\r\n    return true\r\n  }\r\n\r\n  const handleSubmitMission = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (!selectedMission) return\r\n\r\n    try {\r\n      const formData = new FormData(e.currentTarget)\r\n      const newSubmission: MissionSubmission = {\r\n        id: Date.now().toString(),\r\n        missionId: selectedMission.id,\r\n        userId,\r\n        evidenceUrl: formData.get(\"evidenceUrl\") as string,\r\n        evidenceText: formData.get(\"evidenceText\") as string,\r\n        status: \"pending\",\r\n        createdAt: new Date().toISOString(),\r\n      }\r\n\r\n      const currentSubmissions = await getMissionSubmissions()\r\n      const updatedSubmissions = [...currentSubmissions, newSubmission]\r\n      await saveMissionSubmissions(updatedSubmissions)\r\n      setSubmissions(updatedSubmissions.filter((s) => s.userId === userId))\r\n      setSubmitDialogOpen(false)\r\n      setSelectedMission(null)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error submitting mission:\", error)\r\n    }\r\n  }\r\n\r\n  const openSubmitDialog = (mission: Mission) => {\r\n    setSelectedMission(mission)\r\n    setSubmitDialogOpen(true)\r\n  }\r\n\r\n  const filteredMissions = filterType === \"all\" ? missions : missions.filter((m) => m.type === filterType)\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center p-12\">\r\n        <p className=\"text-muted-foreground\">Cargando misiones...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Tabs defaultValue=\"available\">\r\n        <TabsList className=\"grid w-full grid-cols-2\">\r\n          <TabsTrigger value=\"available\">Misiones disponibles</TabsTrigger>\r\n          <TabsTrigger value=\"my-submissions\">Mis postulaciones</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"available\" className=\"space-y-4\">\r\n          <div className=\"flex gap-2\">\r\n            <Select value={filterType} onValueChange={setFilterType}>\r\n              <SelectTrigger className=\"w-[200px]\">\r\n                <SelectValue placeholder=\"Filtrar por tipo\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Todas</SelectItem>\r\n                <SelectItem value=\"curso\">Cursos</SelectItem>\r\n                <SelectItem value=\"proyecto\">Proyectos</SelectItem>\r\n                <SelectItem value=\"voluntariado\">Voluntariado</SelectItem>\r\n                <SelectItem value=\"idea\">Ideas</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            {filteredMissions.map((mission) => {\r\n              const canSubmit = canSubmitMission(mission)\r\n              const approvedCount = getUserSubmissionsForMission(mission.id)\r\n\r\n              return (\r\n                <Card key={mission.id}>\r\n                  <CardHeader>\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"space-y-1\">\r\n                        <CardTitle className=\"text-lg text-balance\">{mission.title}</CardTitle>\r\n                        <div className=\"flex gap-2 flex-wrap\">\r\n                          <Badge variant=\"outline\">{mission.type}</Badge>\r\n                          {mission.tags.map((tag) => (\r\n                            <Badge key={tag} variant=\"secondary\">\r\n                              {tag}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                      <Badge className=\"gap-1 shrink-0\">\r\n                        <Coins className=\"h-3 w-3\" />\r\n                        {mission.tokenReward}\r\n                      </Badge>\r\n                    </div>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-4\">\r\n                    <p className=\"text-sm text-muted-foreground text-pretty\">{mission.description}</p>\r\n\r\n                    <div className=\"space-y-2 text-xs text-muted-foreground\">\r\n                      {mission.endAt && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock className=\"h-3 w-3\" />\r\n                          VÃ¡lida hasta: {new Date(mission.endAt).toLocaleDateString(\"es-ES\")}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Target className=\"h-3 w-3\" />\r\n                        Completadas: {approvedCount}/{mission.maxPerUser}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Button\r\n                      onClick={() => openSubmitDialog(mission)}\r\n                      disabled={!canSubmit}\r\n                      className=\"w-full\"\r\n                      size=\"sm\"\r\n                    >\r\n                      {approvedCount >= mission.maxPerUser ? \"LÃ­mite alcanzado\" : \"Postular evidencia\"}\r\n                    </Button>\r\n                  </CardContent>\r\n                </Card>\r\n              )\r\n            })}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"my-submissions\" className=\"space-y-4\">\r\n          {submissions.length === 0 ? (\r\n            <Card>\r\n              <CardContent className=\"py-12\">\r\n                <p className=\"text-center text-muted-foreground\">\r\n                  AÃºn no has postulado a ninguna misiÃ³n. Â¡Comienza ahora!\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {submissions\r\n                .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\r\n                .map((submission) => {\r\n                  const mission = missions.find((m) => m.id === submission.missionId)\r\n                  if (!mission) return null\r\n\r\n                  return (\r\n                    <Card key={submission.id}>\r\n                      <CardContent className=\"p-4 space-y-3\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-balance\">{mission.title}</h3>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                              Postulado el {new Date(submission.createdAt).toLocaleDateString(\"es-ES\")}\r\n                            </p>\r\n                          </div>\r\n                          <Badge\r\n                            variant={\r\n                              submission.status === \"approved\"\r\n                                ? \"default\"\r\n                                : submission.status === \"rejected\"\r\n                                  ? \"destructive\"\r\n                                  : \"secondary\"\r\n                            }\r\n                            className=\"gap-1\"\r\n                          >\r\n                            {submission.status === \"approved\" && <CheckCircle2 className=\"h-3 w-3\" />}\r\n                            {submission.status === \"rejected\" && <XCircle className=\"h-3 w-3\" />}\r\n                            {submission.status === \"pending\" && <AlertCircle className=\"h-3 w-3\" />}\r\n                            {submission.status === \"pending\" && \"Pendiente\"}\r\n                            {submission.status === \"approved\" && \"Aprobado\"}\r\n                            {submission.status === \"rejected\" && \"Rechazado\"}\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        {submission.evidenceUrl && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">Enlace: </span>\r\n                            <a\r\n                              href={submission.evidenceUrl}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"text-primary hover:underline\"\r\n                            >\r\n                              Ver evidencia\r\n                            </a>\r\n                          </div>\r\n                        )}\r\n\r\n                        {submission.evidenceText && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">DescripciÃ³n: </span>\r\n                            <p className=\"mt-1 p-2 bg-muted rounded text-pretty\">{submission.evidenceText}</p>\r\n                          </div>\r\n                        )}\r\n\r\n                        {submission.status === \"approved\" && (\r\n                          <div className=\"flex items-center gap-2 text-sm text-green-600 dark:text-green-400\">\r\n                            <Coins className=\"h-4 w-4\" />+{mission.tokenReward} fichas acreditadas\r\n                          </div>\r\n                        )}\r\n\r\n                        {submission.reviewNotes && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">Notas del revisor: </span>\r\n                            <p className=\"mt-1 p-2 bg-muted rounded text-pretty\">{submission.reviewNotes}</p>\r\n                          </div>\r\n                        )}\r\n                      </CardContent>\r\n                    </Card>\r\n                  )\r\n                })}\r\n            </div>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Submit Dialog */}\r\n      <Dialog open={submitDialogOpen} onOpenChange={setSubmitDialogOpen}>\r\n        <DialogContent>\r\n          <form onSubmit={handleSubmitMission}>\r\n            <DialogHeader>\r\n              <DialogTitle>Postular evidencia</DialogTitle>\r\n              <DialogDescription>Completa la informaciÃ³n para postular a: {selectedMission?.title}</DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <div className=\"space-y-4 py-4\">\r\n              {selectedMission?.evidenceRequired && (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"evidenceUrl\">Enlace de evidencia (opcional)</Label>\r\n                    <Input\r\n                      id=\"evidenceUrl\"\r\n                      name=\"evidenceUrl\"\r\n                      type=\"url\"\r\n                      placeholder=\"https://certificado.com/mi-certificado\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"evidenceText\">DescripciÃ³n de la evidencia</Label>\r\n                    <Textarea\r\n                      id=\"evidenceText\"\r\n                      name=\"evidenceText\"\r\n                      placeholder=\"Describe tu logro, quÃ© aprendiste o cÃ³mo contribuiste...\"\r\n                      rows={4}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"bg-muted p-3 rounded-lg text-sm space-y-1\">\r\n                <p className=\"font-medium\">Recompensa:</p>\r\n                <div className=\"flex items-center gap-2 text-primary\">\r\n                  <Coins className=\"h-4 w-4\" />\r\n                  <span className=\"font-semibold\">{selectedMission?.tokenReward} fichas</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setSubmitDialogOpen(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\">Postular</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2992, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/social/friends-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n  getAllUsers,\r\n  getUserFriendships,\r\n  getUserFriendRequests,\r\n  createFriendRequest,\r\n  updateFriendRequest,\r\n  createFriendship,\r\n  createDonation,\r\n  getUserDonations,\r\n  createTransaction,\r\n  updateUser,\r\n  getUser,\r\n} from \"@/lib/firebase/db\"\r\nimport type { User, Friendship, FriendRequest, Donation } from \"@/lib/storage\"\r\nimport { UserPlus, Users, Gift, Check, X, Coins } from 'lucide-react'\r\nimport { toast } from \"@/hooks/use-toast\"\r\n\r\nconst getWeekNumber = (date: Date): number => {\r\n  const firstDayOfYear = new Date(date.getFullYear(), 0, 1)\r\n  const pastDaysOfYear = (date.getTime() - firstDayOfYear.getTime()) / 86400000\r\n  return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7)\r\n}\r\n\r\ninterface FriendsPanelProps {\r\n  currentUserId: string\r\n}\r\n\r\nexport function FriendsPanel({ currentUserId }: FriendsPanelProps) {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [friendships, setFriendships] = useState<Friendship[]>([])\r\n  const [friendRequests, setFriendRequests] = useState<FriendRequest[]>([])\r\n  const [donations, setDonations] = useState<Donation[]>([])\r\n  const [searchEmail, setSearchEmail] = useState(\"\")\r\n  const [donateDialog, setDonateDialog] = useState(false)\r\n  const [selectedFriend, setSelectedFriend] = useState<User | null>(null)\r\n  const [donateAmount, setDonateAmount] = useState(0)\r\n  const [loading, setLoading] = useState(true)\r\n  const [currentUser, setCurrentUser] = useState<User | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (!currentUserId) {\r\n      console.error(\"[v0] FriendsPanel: currentUserId is undefined\")\r\n      return\r\n    }\r\n    loadData()\r\n  }, [currentUserId])\r\n\r\n  const loadData = async () => {\r\n    if (!currentUserId) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      const [allUsers, allFriendships, allRequests, allDonations, userData] = await Promise.all([\r\n        getAllUsers(),\r\n        getUserFriendships(currentUserId),\r\n        getUserFriendRequests(currentUserId),\r\n        getUserDonations(currentUserId),\r\n        getUser(currentUserId),\r\n      ])\r\n      \r\n      setUsers(allUsers)\r\n      setFriendships(allFriendships)\r\n      setFriendRequests(allRequests)\r\n      setDonations(allDonations)\r\n      setCurrentUser(userData)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error loading friends data:\", error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const myFriends = friendships\r\n    .filter((f) => f.user1Id === currentUserId || f.user2Id === currentUserId)\r\n    .map((f) => {\r\n      const friendId = f.user1Id === currentUserId ? f.user2Id : f.user1Id\r\n      return users.find((u) => u.id === friendId)\r\n    })\r\n    .filter(Boolean) as User[]\r\n\r\n  const pendingRequests = friendRequests.filter((r) => r.toUserId === currentUserId && r.status === \"pending\")\r\n\r\n  const sentRequests = friendRequests.filter((r) => r.fromUserId === currentUserId && r.status === \"pending\")\r\n\r\n  const handleSendRequest = async () => {\r\n    const targetUser = users.find((u) => u.email === searchEmail && u.role === \"employee\" && u.id !== currentUserId)\r\n    \r\n    if (!targetUser) {\r\n      toast({ title: \"Error\", description: \"Usuario no encontrado o no es empleado\", variant: \"destructive\" })\r\n      return\r\n    }\r\n\r\n    const alreadyFriends = friendships.some(\r\n      (f) =>\r\n        (f.user1Id === currentUserId && f.user2Id === targetUser.id) ||\r\n        (f.user1Id === targetUser.id && f.user2Id === currentUserId),\r\n    )\r\n    if (alreadyFriends) {\r\n      toast({ title: \"Error\", description: \"Ya son amigos\", variant: \"destructive\" })\r\n      return\r\n    }\r\n\r\n    const existingRequest = friendRequests.find(\r\n      (r) =>\r\n        ((r.fromUserId === currentUserId && r.toUserId === targetUser.id) ||\r\n          (r.fromUserId === targetUser.id && r.toUserId === currentUserId)) &&\r\n        r.status === \"pending\",\r\n    )\r\n    if (existingRequest) {\r\n      toast({ title: \"Error\", description: \"Solicitud pendiente\", variant: \"destructive\" })\r\n      return\r\n    }\r\n\r\n    try {\r\n      await createFriendRequest({\r\n        fromUserId: currentUserId,\r\n        toUserId: targetUser.id,\r\n        status: \"pending\",\r\n        createdAt: new Date().toISOString(),\r\n      })\r\n\r\n      await loadData()\r\n      setSearchEmail(\"\")\r\n      toast({ title: \"Ã‰xito\", description: \"Solicitud enviada\" })\r\n    } catch (error) {\r\n      console.error(\"[v0] Error sending request:\", error)\r\n      toast({ title: \"Error\", description: \"No se pudo enviar la solicitud\", variant: \"destructive\" })\r\n    }\r\n  }\r\n\r\n  const handleAcceptRequest = async (requestId: string) => {\r\n    const request = friendRequests.find((r) => r.id === requestId)\r\n    if (!request) return\r\n\r\n    try {\r\n      await updateFriendRequest(requestId, { status: \"accepted\" })\r\n      await createFriendship({\r\n        user1Id: request.fromUserId,\r\n        user2Id: request.toUserId,\r\n        createdAt: new Date().toISOString(),\r\n      })\r\n\r\n      await loadData()\r\n      toast({ title: \"Ã‰xito\", description: \"Solicitud aceptada\" })\r\n    } catch (error) {\r\n      console.error(\"[v0] Error accepting request:\", error)\r\n      toast({ title: \"Error\", description: \"No se pudo aceptar la solicitud\", variant: \"destructive\" })\r\n    }\r\n  }\r\n\r\n  const handleRejectRequest = async (requestId: string) => {\r\n    try {\r\n      await updateFriendRequest(requestId, { status: \"rejected\" })\r\n      await loadData()\r\n      toast({ title: \"Solicitud rechazada\", description: \"La solicitud ha sido rechazada\" })\r\n    } catch (error) {\r\n      console.error(\"[v0] Error rejecting request:\", error)\r\n    }\r\n  }\r\n\r\n  const handleDonate = async () => {\r\n    if (!selectedFriend || donateAmount <= 0 || !currentUser) return\r\n\r\n    if (currentUser.tokens < donateAmount) {\r\n      toast({ title: \"Error\", description: \"Fichas insuficientes\", variant: \"destructive\" })\r\n      return\r\n    }\r\n\r\n    const currentWeek = getWeekNumber(new Date())\r\n    const weekDonations = donations.filter((d) => d.fromUserId === currentUserId && d.weekNumber === currentWeek)\r\n    const weekTotal = weekDonations.reduce((sum, d) => sum + d.amount, 0)\r\n\r\n    if (weekTotal + donateAmount > 200) {\r\n      toast({\r\n        title: \"LÃ­mite excedido\",\r\n        description: `Solo puedes donar ${200 - weekTotal} fichas mÃ¡s esta semana`,\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    try {\r\n      await createDonation({\r\n        fromUserId: currentUserId,\r\n        toUserId: selectedFriend.id,\r\n        amount: donateAmount,\r\n        date: new Date().toISOString(),\r\n        weekNumber: currentWeek,\r\n      })\r\n\r\n      await createTransaction({\r\n        userId: currentUserId,\r\n        type: \"debit\",\r\n        amount: donateAmount,\r\n        source: \"donation\",\r\n        description: `DonaciÃ³n a ${selectedFriend.name}`,\r\n        date: new Date().toISOString(),\r\n      })\r\n\r\n      await createTransaction({\r\n        userId: selectedFriend.id,\r\n        type: \"credit\",\r\n        amount: donateAmount,\r\n        source: \"donation\",\r\n        description: `DonaciÃ³n de ${currentUser.name}`,\r\n        date: new Date().toISOString(),\r\n      })\r\n\r\n      await updateUser(currentUserId, { tokens: currentUser.tokens - donateAmount })\r\n      await updateUser(selectedFriend.id, { tokens: selectedFriend.tokens + donateAmount })\r\n\r\n      toast({ title: \"Ã‰xito\", description: `Has donado ${donateAmount} fichas a ${selectedFriend.name}` })\r\n      setDonateDialog(false)\r\n      setDonateAmount(0)\r\n      await loadData()\r\n    } catch (error) {\r\n      console.error(\"[v0] Error donating:\", error)\r\n      toast({ title: \"Error\", description: \"No se pudo completar la donaciÃ³n\", variant: \"destructive\" })\r\n    }\r\n  }\r\n\r\n  const currentWeek = getWeekNumber(new Date())\r\n  const weekDonations = donations.filter((d) => d.fromUserId === currentUserId && d.weekNumber === currentWeek)\r\n  const weekTotal = weekDonations.reduce((sum, d) => sum + d.amount, 0)\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"text-sm text-muted-foreground\">Cargando amigos...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Tabs defaultValue=\"friends\">\r\n        <TabsList className=\"grid w-full grid-cols-3\">\r\n          <TabsTrigger value=\"friends\">\r\n            <Users className=\"h-4 w-4 mr-2\" />\r\n            Mis Amigos\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"requests\">\r\n            <UserPlus className=\"h-4 w-4 mr-2\" />\r\n            Solicitudes {pendingRequests.length > 0 && `(${pendingRequests.length})`}\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"add\">\r\n            <UserPlus className=\"h-4 w-4 mr-2\" />\r\n            Agregar\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"friends\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-sm flex items-center gap-2\">\r\n                <Gift className=\"h-4 w-4\" />\r\n                Donaciones esta semana\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-muted-foreground\">{weekTotal} / 200 fichas donadas</span>\r\n                <Badge variant={weekTotal >= 200 ? \"destructive\" : \"secondary\"}>{200 - weekTotal} disponibles</Badge>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {myFriends.length === 0 ? (\r\n            <p className=\"text-muted-foreground text-center py-8\">AÃºn no tienes amigos agregados</p>\r\n          ) : (\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              {myFriends.map((friend) => (\r\n                <Card key={friend.id}>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-base\">{friend.name}</CardTitle>\r\n                    <CardDescription>{friend.department}</CardDescription>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-sm text-muted-foreground\">Fichas</span>\r\n                      <Badge variant=\"secondary\" className=\"gap-1\">\r\n                        <Coins className=\"h-3 w-3\" />\r\n                        {friend.tokens}\r\n                      </Badge>\r\n                    </div>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      className=\"w-full\"\r\n                      onClick={() => {\r\n                        setSelectedFriend(friend)\r\n                        setDonateDialog(true)\r\n                      }}\r\n                      disabled={weekTotal >= 200}\r\n                    >\r\n                      <Gift className=\"h-4 w-4 mr-2\" />\r\n                      Donar fichas\r\n                    </Button>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"requests\" className=\"space-y-4\">\r\n          {pendingRequests.length === 0 ? (\r\n            <p className=\"text-muted-foreground text-center py-8\">No tienes solicitudes pendientes</p>\r\n          ) : (\r\n            pendingRequests.map((request) => {\r\n              const fromUser = users.find((u) => u.id === request.fromUserId)\r\n              if (!fromUser) return null\r\n              return (\r\n                <Card key={request.id}>\r\n                  <CardContent className=\"flex items-center justify-between p-4\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold\">{fromUser.name}</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">{fromUser.email}</p>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <Button size=\"sm\" onClick={() => handleAcceptRequest(request.id)}>\r\n                        <Check className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => handleRejectRequest(request.id)}>\r\n                        <X className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              )\r\n            })\r\n          )}\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"add\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Buscar empleado</CardTitle>\r\n              <CardDescription>Ingresa el email del empleado que quieres agregar</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <Input\r\n                placeholder=\"email@motivaplay.com\"\r\n                value={searchEmail}\r\n                onChange={(e) => setSearchEmail(e.target.value)}\r\n              />\r\n              <Button onClick={handleSendRequest} className=\"w-full\">\r\n                <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                Enviar solicitud\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {sentRequests.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-sm\">Solicitudes enviadas</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-2\">\r\n                {sentRequests.map((request) => {\r\n                  const toUser = users.find((u) => u.id === request.toUserId)\r\n                  if (!toUser) return null\r\n                  return (\r\n                    <div key={request.id} className=\"flex items-center justify-between p-2 bg-accent rounded\">\r\n                      <span className=\"text-sm\">{toUser.email}</span>\r\n                      <Badge variant=\"secondary\">Pendiente</Badge>\r\n                    </div>\r\n                  )\r\n                })}\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <Dialog open={donateDialog} onOpenChange={setDonateDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Donar fichas a {selectedFriend?.name}</DialogTitle>\r\n            <DialogDescription>\r\n              Puedes donar hasta {Math.min(200 - weekTotal, currentUser?.tokens || 0)}{\" \"}\r\n              fichas esta semana\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium\">Cantidad de fichas</label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max={Math.min(200 - weekTotal, currentUser?.tokens || 0)}\r\n                value={donateAmount}\r\n                onChange={(e) => setDonateAmount(Number.parseInt(e.target.value))}\r\n                placeholder=\"Ingresa cantidad\"\r\n              />\r\n            </div>\r\n            <Button onClick={handleDonate} className=\"w-full\">\r\n              <Gift className=\"h-4 w-4 mr-2\" />\r\n              Donar {donateAmount} fichas\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/social/rankings-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { getAllUsers, getUserFriendships } from \"@/lib/firebase/db\"\r\nimport type { User, Friendship } from \"@/lib/storage\"\r\nimport { Trophy, TrendingUp, Building2, Crown, Coins } from 'lucide-react'\r\n\r\ninterface RankingsPanelProps {\r\n  currentUserId: string\r\n}\r\n\r\nexport function RankingsPanel({ currentUserId }: RankingsPanelProps) {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [friendships, setFriendships] = useState<Friendship[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!currentUserId) {\r\n      console.error(\"[v0] RankingsPanel: currentUserId is undefined\")\r\n      return\r\n    }\r\n    loadData()\r\n  }, [currentUserId])\r\n\r\n  const loadData = async () => {\r\n    if (!currentUserId) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      const [allUsers, allFriendships] = await Promise.all([\r\n        getAllUsers(),\r\n        getUserFriendships(currentUserId),\r\n      ])\r\n      setUsers(allUsers)\r\n      setFriendships(allFriendships)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error loading rankings data:\", error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const myFriends = friendships\r\n    .filter((f) => f.user1Id === currentUserId || f.user2Id === currentUserId)\r\n    .map((f) => {\r\n      const friendId = f.user1Id === currentUserId ? f.user2Id : f.user1Id\r\n      return users.find((u) => u.id === friendId)\r\n    })\r\n    .filter(Boolean) as User[]\r\n\r\n  const currentUser = users.find((u) => u.id === currentUserId)\r\n  const friendsWithMe = currentUser ? [...myFriends, currentUser] : myFriends\r\n  const sortedFriends = [...friendsWithMe].sort((a, b) => b.tokens - a.tokens)\r\n\r\n  const departments = [...new Set(users.filter((u) => u.role === \"employee\").map((u) => u.department))]\r\n  const departmentStats = departments.map((dept) => {\r\n    const deptUsers = users.filter((u) => u.department === dept && u.role === \"employee\")\r\n    const totalTokens = deptUsers.reduce((sum, u) => sum + u.tokens, 0)\r\n    const avgTokens = totalTokens / deptUsers.length\r\n    const mvp = deptUsers.sort((a, b) => b.tokens - a.tokens)[0]\r\n    return {\r\n      name: dept,\r\n      totalTokens,\r\n      avgTokens,\r\n      userCount: deptUsers.length,\r\n      mvp,\r\n    }\r\n  })\r\n  const sortedDepartments = [...departmentStats].sort((a, b) => b.totalTokens - a.totalTokens)\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"text-sm text-muted-foreground\">Cargando rankings...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Tabs defaultValue=\"friends\">\r\n      <TabsList className=\"grid w-full grid-cols-2\">\r\n        <TabsTrigger value=\"friends\">\r\n          <Trophy className=\"h-4 w-4 mr-2\" />\r\n          Ranking Amigos\r\n        </TabsTrigger>\r\n        <TabsTrigger value=\"departments\">\r\n          <Building2 className=\"h-4 w-4 mr-2\" />\r\n          Por Departamento\r\n        </TabsTrigger>\r\n      </TabsList>\r\n\r\n      <TabsContent value=\"friends\" className=\"space-y-4\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Trophy className=\"h-5 w-5\" />\r\n              Top 10 Amigos\r\n            </CardTitle>\r\n            <CardDescription>Ranking por fichas entre tus amigos</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {sortedFriends.slice(0, 10).map((friend, index) => (\r\n                <div\r\n                  key={friend.id}\r\n                  className={`flex items-center justify-between p-3 rounded-lg ${\r\n                    friend.id === currentUserId ? \"bg-primary/10 border-2 border-primary\" : \"bg-accent\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-background\">\r\n                      {index === 0 && <Crown className=\"h-4 w-4 text-yellow-500\" />}\r\n                      {index === 1 && <Crown className=\"h-4 w-4 text-gray-400\" />}\r\n                      {index === 2 && <Crown className=\"h-4 w-4 text-orange-600\" />}\r\n                      {index > 2 && <span className=\"text-sm font-semibold\">{index + 1}</span>}\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold\">{friend.name}</h3>\r\n                      <p className=\"text-xs text-muted-foreground\">{friend.department}</p>\r\n                    </div>\r\n                  </div>\r\n                  <Badge variant=\"secondary\" className=\"gap-1\">\r\n                    <Coins className=\"h-3 w-3\" />\r\n                    {friend.tokens}\r\n                  </Badge>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"departments\" className=\"space-y-4\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Building2 className=\"h-5 w-5\" />\r\n              Ranking Departamentos\r\n            </CardTitle>\r\n            <CardDescription>Rendimiento por Ã¡rea de la empresa</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              {sortedDepartments.map((dept, index) => (\r\n                <Card key={dept.name}>\r\n                  <CardContent className=\"p-4\">\r\n                    <div className=\"flex items-start justify-between mb-3\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10\">\r\n                          {index === 0 && <Trophy className=\"h-4 w-4 text-primary\" />}\r\n                          {index > 0 && <span className=\"text-sm font-semibold\">{index + 1}</span>}\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"font-semibold\">{dept.name}</h3>\r\n                          <p className=\"text-xs text-muted-foreground\">{dept.userCount} empleados</p>\r\n                        </div>\r\n                      </div>\r\n                      <Badge variant=\"secondary\" className=\"gap-1\">\r\n                        <TrendingUp className=\"h-3 w-3\" />\r\n                        {dept.totalTokens}\r\n                      </Badge>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className=\"text-muted-foreground\">Promedio: {Math.round(dept.avgTokens)} fichas</span>\r\n                      {dept.mvp && (\r\n                        <span className=\"text-xs\">\r\n                          <Crown className=\"h-3 w-3 inline mr-1 text-yellow-500\" />\r\n                          MVP: {dept.mvp.name}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </TabsContent>\r\n    </Tabs>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4382, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/progress.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Progress({\r\n  className,\r\n  value,\r\n  ...props\r\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\r\n  return (\r\n    <ProgressPrimitive.Root\r\n      data-slot=\"progress\"\r\n      className={cn(\r\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ProgressPrimitive.Indicator\r\n        data-slot=\"progress-indicator\"\r\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\r\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n      />\r\n    </ProgressPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE","debugId":null}},
    {"offset": {"line": 4420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/social/badges-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Progress } from \"@/components/ui/progress\"\r\nimport { getUserAchievements, getAllAchievementTemplates } from \"@/lib/firebase/db\"\r\nimport type { Achievement, AchievementTemplate } from \"@/lib/storage\"\r\nimport { Award, Star, Trophy } from 'lucide-react'\r\n\r\ninterface BadgesPanelProps {\r\n  userId: string\r\n}\r\n\r\nexport function BadgesPanel({ userId }: BadgesPanelProps) {\r\n  const [templates, setTemplates] = useState<AchievementTemplate[]>([])\r\n  const [achievements, setAchievements] = useState<Achievement[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      console.error(\"[v0] BadgesPanel: userId is undefined\")\r\n      return\r\n    }\r\n    loadData()\r\n  }, [userId])\r\n\r\n  const loadData = async () => {\r\n    if (!userId) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      const [allTemplates, userAchievements] = await Promise.all([\r\n        getAllAchievementTemplates(),\r\n        getUserAchievements(userId),\r\n      ])\r\n      setTemplates(allTemplates)\r\n      setAchievements(userAchievements)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error loading badges data:\", error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const getBadgeRank = (templateId: string): \"bronze\" | \"silver\" | \"gold\" | \"platinum\" | null => {\r\n    const template = templates.find((t) => t.id === templateId)\r\n    if (!template) return null\r\n\r\n    const count = achievements.filter((a) => a.templateId === templateId).reduce((sum, a) => sum + a.count, 0)\r\n\r\n    if (count >= template.platinumRequirement) return \"platinum\"\r\n    if (count >= template.platinumRequirement * 0.75) return \"gold\"\r\n    if (count >= template.platinumRequirement * 0.5) return \"silver\"\r\n    if (count >= template.platinumRequirement * 0.25) return \"bronze\"\r\n    return null\r\n  }\r\n\r\n  const getProgress = (templateId: string): number => {\r\n    const template = templates.find((t) => t.id === templateId)\r\n    if (!template) return 0\r\n\r\n    const count = achievements.filter((a) => a.templateId === templateId).reduce((sum, a) => sum + a.count, 0)\r\n    return Math.min((count / template.platinumRequirement) * 100, 100)\r\n  }\r\n\r\n  const getRankColor = (rank: string | null) => {\r\n    switch (rank) {\r\n      case \"platinum\":\r\n        return \"bg-gradient-to-br from-cyan-400 to-blue-500\"\r\n      case \"gold\":\r\n        return \"bg-gradient-to-br from-yellow-400 to-yellow-600\"\r\n      case \"silver\":\r\n        return \"bg-gradient-to-br from-gray-300 to-gray-500\"\r\n      case \"bronze\":\r\n        return \"bg-gradient-to-br from-orange-400 to-orange-600\"\r\n      default:\r\n        return \"bg-muted\"\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"text-sm text-muted-foreground\">Cargando insignias...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Award className=\"h-5 w-5\" />\r\n            Mis Insignias\r\n          </CardTitle>\r\n          <CardDescription>Progreso hacia insignias platino</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            {templates.map((template) => {\r\n              const rank = getBadgeRank(template.id)\r\n              const progress = getProgress(template.id)\r\n              const count = achievements\r\n                .filter((a) => a.templateId === template.id)\r\n                .reduce((sum, a) => sum + a.count, 0)\r\n\r\n              return (\r\n                <Card key={template.id} className=\"overflow-hidden\">\r\n                  <CardContent className=\"p-4 space-y-3\">\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <div className={`w-16 h-16 rounded-lg flex items-center justify-center ${getRankColor(rank)}`}>\r\n                        {rank === \"platinum\" && <Trophy className=\"h-8 w-8 text-white\" />}\r\n                        {rank === \"gold\" && <Trophy className=\"h-8 w-8 text-white\" />}\r\n                        {rank === \"silver\" && <Star className=\"h-8 w-8 text-white\" />}\r\n                        {rank === \"bronze\" && <Award className=\"h-8 w-8 text-white\" />}\r\n                        {!rank && <Award className=\"h-8 w-8 text-muted-foreground\" />}\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-semibold text-sm\">{template.title}</h3>\r\n                        <p className=\"text-xs text-muted-foreground\">{template.description}</p>\r\n                        {rank && (\r\n                          <Badge variant=\"secondary\" className=\"mt-1 text-xs\">\r\n                            {rank.toUpperCase()}\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-1\">\r\n                      <div className=\"flex items-center justify-between text-xs\">\r\n                        <span className=\"text-muted-foreground\">Progreso Platino</span>\r\n                        <span className=\"font-semibold\">\r\n                          {count} / {template.platinumRequirement}\r\n                        </span>\r\n                      </div>\r\n                      <Progress value={progress} className=\"h-2\" />\r\n                    </div>\r\n\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      <Award className=\"h-3 w-3 inline mr-1\" />\r\n                      {template.reward} fichas por logro\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              )\r\n            })}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4754, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/employee-dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { logout } from \"@/lib/auth\"\r\nimport {\r\n  getAllPrizes,\r\n  getUserAchievements,\r\n  getAllRedemptions,\r\n  createRedemption,\r\n  updateUser,\r\n  createTransaction,\r\n} from \"@/lib/firebase/db\"\r\nimport type { Prize, Achievement, Redemption, User } from \"@/lib/storage\"\r\nimport { Coins, Trophy, Gift, Gamepad2, Target, Users, TrendingUp, Award } from 'lucide-react'\r\nimport { SlotsGame } from \"./games/slots-game\"\r\nimport { BlackjackGame } from \"./games/blackjack-game\"\r\nimport { RouletteGame } from \"./games/roulette-game\"\r\nimport { AIMotivator } from \"./ai-motivator\"\r\nimport { EmployeeMissions } from \"./missions/employee-missions\"\r\nimport { FriendsPanel } from \"./social/friends-panel\"\r\nimport { RankingsPanel } from \"./social/rankings-panel\"\r\nimport { BadgesPanel } from \"./social/badges-panel\"\r\n\r\nexport function EmployeeDashboard({ user: initialUser, onLogout }: { user: User; onLogout: () => void }) {\r\n  const [user, setUser] = useState<User>(initialUser)\r\n  const [prizes, setPrizes] = useState<Prize[]>([])\r\n  const [achievements, setAchievements] = useState<Achievement[]>([])\r\n  const [gameDialogOpen, setGameDialogOpen] = useState(false)\r\n  const [selectedGame, setSelectedGame] = useState<\"slots\" | \"blackjack\" | \"roulette\" | null>(null)\r\n  const [activeTab, setActiveTab] = useState(\"games\")\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const [prizesData, achievementsData] = await Promise.all([\r\n          getAllPrizes(),\r\n          getUserAchievements(user.id)\r\n        ])\r\n        setPrizes(prizesData)\r\n        setAchievements(achievementsData)\r\n      } catch (error) {\r\n        console.error(\"[v0] Error loading data:\", error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    loadData()\r\n  }, [user.id])\r\n\r\n  const handleLogout = async () => {\r\n    await logout()\r\n    onLogout()\r\n  }\r\n\r\n  const handleRedeemPrize = async (prize: Prize) => {\r\n    if (!user || user.tokens < prize.cost) return\r\n\r\n    try {\r\n      const newTokens = user.tokens - prize.cost\r\n      await updateUser(user.id, { tokens: newTokens })\r\n\r\n      const newRedemption: Omit<Redemption, \"id\"> = {\r\n        userId: user.id,\r\n        prizeId: prize.id,\r\n        prizeName: prize.name,\r\n        tokensCost: prize.cost,\r\n        date: new Date().toISOString(),\r\n        status: \"pending\",\r\n      }\r\n      await createRedemption(newRedemption)\r\n\r\n      await createTransaction({\r\n        userId: user.id,\r\n        type: \"debit\",\r\n        amount: prize.cost,\r\n        source: \"reward\",\r\n        sourceRef: prize.id,\r\n        description: `Canjeado: ${prize.name}`,\r\n        date: new Date().toISOString(),\r\n      })\r\n\r\n      setUser({ ...user, tokens: newTokens })\r\n    } catch (error) {\r\n      console.error(\"[v0] Error redeeming prize:\", error)\r\n    }\r\n  }\r\n\r\n  const openGame = (game: \"slots\" | \"blackjack\" | \"roulette\") => {\r\n    setSelectedGame(game)\r\n    setGameDialogOpen(true)\r\n  }\r\n\r\n  const handleGameEnd = async (tokensWon: number) => {\r\n    if (!user) return\r\n    try {\r\n      const newTokens = user.tokens + tokensWon\r\n      await updateUser(user.id, { tokens: newTokens })\r\n\r\n      if (tokensWon !== 0) {\r\n        await createTransaction({\r\n          userId: user.id,\r\n          type: tokensWon > 0 ? \"credit\" : \"debit\",\r\n          amount: Math.abs(tokensWon),\r\n          source: \"play\",\r\n          description: tokensWon > 0 ? \"Ganado en juego\" : \"Perdido en juego\",\r\n          date: new Date().toISOString(),\r\n        })\r\n      }\r\n\r\n      setUser({ ...user, tokens: newTokens })\r\n    } catch (error) {\r\n      console.error(\"[v0] Error updating tokens:\", error)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\">\r\n        <div className=\"text-lg\">Cargando...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <main className=\"container mx-auto px-4 py-8 space-y-8\">\r\n        {/* AI Motivator */}\r\n        <AIMotivator userName={user.name} tokens={user.tokens} />\r\n\r\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\r\n          <TabsList className=\"grid w-full grid-cols-7\">\r\n            <TabsTrigger value=\"games\" className=\"gap-2\">\r\n              <Gamepad2 className=\"h-4 w-4\" />\r\n              Juegos\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"missions\" className=\"gap-2\">\r\n              <Target className=\"h-4 w-4\" />\r\n              Misiones\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"friends\" className=\"gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Amigos\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"rankings\" className=\"gap-2\">\r\n              <TrendingUp className=\"h-4 w-4\" />\r\n              Rankings\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"badges\" className=\"gap-2\">\r\n              <Award className=\"h-4 w-4\" />\r\n              Insignias\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"prizes\" className=\"gap-2\">\r\n              <Gift className=\"h-4 w-4\" />\r\n              Premios\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"achievements\" className=\"gap-2\">\r\n              <Trophy className=\"h-4 w-4\" />\r\n              Historial\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Games Tab Content */}\r\n          <TabsContent value=\"games\" className=\"space-y-6\">\r\n            <Card className=\"rounded-3xl border-[var(--border)]/50\">\r\n              <CardHeader className=\"flex-row items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Gamepad2 className=\"h-5 w-5\" />\r\n                    Mesa de juegos\r\n                  </CardTitle>\r\n                  <CardDescription>Prueba tu suerte, multiplica tus fichas y desbloquea recompensas especiales.</CardDescription>\r\n                </div>\r\n                <div\r\n                  className=\"hidden md:flex items-center gap-2 rounded-full border px-4 py-2 text-xs tracking-widest cursor-pointer hover:bg-accent/40\"\r\n                  onClick={() => setActiveTab('achievements')}\r\n                  title=\"Ver historial\"\r\n                >\r\n                  <span>ðŸ•‘ Historial en tiempo real</span>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid gap-6 md:grid-cols-3\">\r\n                  {/* Slots */}\r\n                  <div\r\n                    role=\"button\"\r\n                    onClick={() => openGame(\"slots\")}\r\n                    className=\"group relative overflow-hidden rounded-2xl p-6 cursor-pointer ring-1 ring-[var(--border)]/40 bg-gradient-to-br from-yellow-300/35 via-primary/20 to-blue-700/40 dark:from-yellow-400/25 dark:to-blue-600/35 hover:shadow-xl transition-all duration-300\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <span className=\"text-5xl\">ðŸŽ°</span>\r\n                    </div>\r\n                    <div className=\"mt-4 space-y-2\">\r\n                      <h3 className=\"text-xl font-extrabold\">Slots Royal</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">Gira y gana combinaciones Ã©picas</p>\r\n                    </div>\r\n                    <div className=\"mt-6 text-xs font-semibold tracking-widest text-muted-foreground\">\r\n                      JUGAR AHORA â†’\r\n                    </div>\r\n                    <div className=\"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300\" style={{background:\"radial-gradient(120px 120px at 20% 20%, rgba(255,255,255,0.25), transparent)\"}} />\r\n                  </div>\r\n\r\n                  {/* Blackjack */}\r\n                  <div\r\n                    role=\"button\"\r\n                    onClick={() => openGame(\"blackjack\")}\r\n                    className=\"group relative overflow-hidden rounded-2xl p-6 cursor-pointer ring-1 ring-[var(--border)]/40 bg-gradient-to-br from-blue-700/40 via-blue-600/30 to-emerald-500/40 hover:shadow-xl transition-all duration-300\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <span className=\"text-5xl\">ðŸƒ</span>\r\n                    </div>\r\n                    <div className=\"mt-4 space-y-2\">\r\n                      <h3 className=\"text-xl font-extrabold\">Blackjack Pro</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">Domina la mesa, asegure 21</p>\r\n                    </div>\r\n                    <div className=\"mt-6 text-xs font-semibold tracking-widest text-muted-foreground\">\r\n                      JUGAR AHORA â†’\r\n                    </div>\r\n                    <div className=\"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300\" style={{background:\"radial-gradient(120px 120px at 20% 20%, rgba(255,255,255,0.15), transparent)\"}} />\r\n                  </div>\r\n\r\n                  {/* Roulette */}\r\n                  <div\r\n                    role=\"button\"\r\n                    onClick={() => openGame(\"roulette\")}\r\n                    className=\"group relative overflow-hidden rounded-2xl p-6 cursor-pointer ring-1 ring-[var(--border)]/40 bg-gradient-to-br from-emerald-400/35 via-teal-500/30 to-yellow-300/40 hover:shadow-xl transition-all duration-300\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <span className=\"text-5xl\">ðŸŽ¡</span>\r\n                    </div>\r\n                    <div className=\"mt-4 space-y-2\">\r\n                      <h3 className=\"text-xl font-extrabold\">Ruleta Motivacional</h3>\r\n                      <p className=\"text-sm text-muted-foreground\">Apuesta por momentos inolvidables</p>\r\n                    </div>\r\n                    <div className=\"mt-6 text-xs font-semibold tracking-widest text-muted-foreground\">\r\n                      JUGAR AHORA â†’\r\n                    </div>\r\n                    <div className=\"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300\" style={{background:\"radial-gradient(120px 120px at 20% 20%, rgba(255,255,255,0.2), transparent)\"}} />\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Missions Tab Content */}\r\n          <TabsContent value=\"missions\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Target className=\"h-5 w-5\" />\r\n                  Misiones\r\n                </CardTitle>\r\n                <CardDescription>Postula evidencias de cursos, proyectos y logros para ganar fichas</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <EmployeeMissions userId={user.id} />\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"friends\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Users className=\"h-5 w-5\" />\r\n                  Amigos\r\n                </CardTitle>\r\n                <CardDescription>Conecta con compaÃ±eros y dona fichas</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <FriendsPanel currentUserId={user.id} />\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"rankings\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <TrendingUp className=\"h-5 w-5\" />\r\n                  Rankings\r\n                </CardTitle>\r\n                <CardDescription>Compite con tus amigos y departamentos</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <RankingsPanel currentUserId={user.id} />\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"badges\">\r\n            <BadgesPanel userId={user.id} />\r\n          </TabsContent>\r\n\r\n          {/* Prizes Tab Content */}\r\n          <TabsContent value=\"prizes\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Gift className=\"h-5 w-5\" />\r\n                  Premios disponibles\r\n                </CardTitle>\r\n                <CardDescription>Canjea tus fichas por recompensas</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                  {prizes\r\n                    .filter((p) => p.available)\r\n                    .map((prize) => (\r\n                      <Card key={prize.id} className=\"overflow-hidden\">\r\n                        <div className=\"relative\">\r\n                          <img\r\n                            src={prize.image || \"/placeholder.svg\"}\r\n                            alt={prize.name}\r\n                            className=\"w-full h-32 object-cover\"\r\n                          />\r\n                          {prize.label && (\r\n                            <Badge className=\"absolute top-2 right-2 bg-destructive text-destructive-foreground\">\r\n                              {prize.label}\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                        <CardContent className=\"p-4 space-y-2\">\r\n                          <h3 className=\"font-semibold text-balance\">{prize.name}</h3>\r\n                          <p className=\"text-sm text-muted-foreground text-pretty\">{prize.description}</p>\r\n                          <div className=\"flex items-center justify-between pt-2\">\r\n                            <div className=\"flex items-center gap-2 flex-wrap\">\r\n                              {prize.discount && prize.originalCost ? (\r\n                                <>\r\n                                  <Badge variant=\"secondary\" className=\"gap-1\">\r\n                                    <Coins className=\"h-3 w-3\" />\r\n                                    {prize.cost}\r\n                                  </Badge>\r\n                                  <span className=\"text-xs text-muted-foreground line-through\">\r\n                                    {prize.originalCost}\r\n                                  </span>\r\n                                  <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                    -{prize.discount}%\r\n                                  </Badge>\r\n                                </>\r\n                              ) : (\r\n                                <Badge variant=\"secondary\" className=\"gap-1\">\r\n                                  <Coins className=\"h-3 w-3\" />\r\n                                  {prize.cost}\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => handleRedeemPrize(prize)}\r\n                              disabled={user.tokens < prize.cost}\r\n                            >\r\n                              Canjear\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Achievements Tab Content */}\r\n          <TabsContent value=\"achievements\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Trophy className=\"h-5 w-5\" />\r\n                  Mis logros\r\n                </CardTitle>\r\n                <CardDescription>Historial de desempeÃ±o y fichas ganadas</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {achievements.length === 0 ? (\r\n                    <p className=\"text-muted-foreground text-center py-8\">\r\n                      AÃºn no tienes logros. Â¡Sigue trabajando duro!\r\n                    </p>\r\n                  ) : (\r\n                    achievements.map((achievement) => (\r\n                      <div key={achievement.id} className=\"flex items-start justify-between p-4 bg-accent rounded-lg\">\r\n                        <div className=\"flex-1\">\r\n                          <h3 className=\"font-semibold\">{achievement.title}</h3>\r\n                          <p className=\"text-sm text-muted-foreground\">{achievement.description}</p>\r\n                          <p className=\"text-xs text-muted-foreground mt-1\">\r\n                            {new Date(achievement.date).toLocaleDateString(\"es-ES\")}\r\n                          </p>\r\n                        </div>\r\n                        <Badge className=\"gap-1\">\r\n                          <Coins className=\"h-3 w-3\" />+{achievement.tokensAwarded}\r\n                        </Badge>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </main>\r\n\r\n      {/* Game Dialog */}\r\n      <Dialog open={gameDialogOpen} onOpenChange={setGameDialogOpen}>\r\n        <DialogContent className=\"max-w-4xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {selectedGame === \"slots\" && \"ðŸŽ° Slots\"}\r\n              {selectedGame === \"blackjack\" && \"ðŸƒ Blackjack\"}\r\n              {selectedGame === \"roulette\" && \"ðŸŽ¡ Ruleta\"}\r\n            </DialogTitle>\r\n            <DialogDescription>Apuesta fichas y gana mÃ¡s. Â¡Buena suerte!</DialogDescription>\r\n          </DialogHeader>\r\n          {selectedGame === \"slots\" && (\r\n            <SlotsGame currentTokens={user.tokens} onGameEnd={handleGameEnd} onClose={() => setGameDialogOpen(false)} />\r\n          )}\r\n          {selectedGame === \"blackjack\" && (\r\n            <BlackjackGame\r\n              currentTokens={user.tokens}\r\n              onGameEnd={handleGameEnd}\r\n              onClose={() => setGameDialogOpen(false)}\r\n            />\r\n          )}\r\n          {selectedGame === \"roulette\" && (\r\n            <RouletteGame\r\n              currentTokens={user.tokens}\r\n              onGameEnd={handleGameEnd}\r\n              onClose={() => setGameDialogOpen(false)}\r\n            />\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EmployeeDashboard\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5984, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/ui/switch.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Switch({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\r\n  return (\r\n    <SwitchPrimitive.Root\r\n      data-slot=\"switch\"\r\n      className={cn(\r\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <SwitchPrimitive.Thumb\r\n        data-slot=\"switch-thumb\"\r\n        className={\r\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\r\n        }\r\n      />\r\n    </SwitchPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 6019, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/missions/admin-missions.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport {\r\n  getMissions,\r\n  saveMissions,\r\n  getMissionSubmissions,\r\n  saveMissionSubmissions,\r\n  getUsers,\r\n  getTransactions,\r\n  saveTransactions,\r\n  type Mission,\r\n  type MissionSubmission,\r\n  type Transaction,\r\n} from \"@/lib/storage\"\r\nimport { updateUserTokens } from \"@/lib/auth\"\r\nimport { Plus, CheckCircle2, XCircle, ExternalLink, Coins, Calendar } from 'lucide-react'\r\n\r\nexport function AdminMissions() {\r\n  const [missions, setMissions] = useState<Mission[]>([])\r\n  const [submissions, setSubmissions] = useState<MissionSubmission[]>([])\r\n  const [newMissionDialog, setNewMissionDialog] = useState(false)\r\n  const [reviewDialog, setReviewDialog] = useState(false)\r\n  const [selectedSubmission, setSelectedSubmission] = useState<MissionSubmission | null>(null)\r\n  const [filterStatus, setFilterStatus] = useState<string>(\"all\")\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const [allMissions, allSubmissions] = await Promise.all([\r\n          getMissions(),\r\n          getMissionSubmissions()\r\n        ])\r\n        \r\n        setMissions(allMissions)\r\n        setSubmissions(allSubmissions)\r\n      } catch (error) {\r\n        console.error(\"[v0] Error loading data:\", error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    \r\n    loadData()\r\n  }, [])\r\n\r\n  const handleCreateMission = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    \r\n    try {\r\n      const formData = new FormData(e.currentTarget)\r\n      const tags = (formData.get(\"tags\") as string).split(\",\").map((t) => t.trim())\r\n\r\n      const newMission: Mission = {\r\n        id: Date.now().toString(),\r\n        title: formData.get(\"title\") as string,\r\n        type: formData.get(\"type\") as Mission[\"type\"],\r\n        description: formData.get(\"description\") as string,\r\n        tokenReward: Number.parseInt(formData.get(\"tokenReward\") as string),\r\n        evidenceRequired: formData.get(\"evidenceRequired\") === \"on\",\r\n        endAt: formData.get(\"endAt\") ? (formData.get(\"endAt\") as string) : undefined,\r\n        active: true,\r\n        tags,\r\n        maxPerUser: Number.parseInt(formData.get(\"maxPerUser\") as string),\r\n      }\r\n\r\n      const updatedMissions = [...missions, newMission]\r\n      await saveMissions(updatedMissions)\r\n      setMissions(updatedMissions)\r\n      setNewMissionDialog(false)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error creating mission:\", error)\r\n    }\r\n  }\r\n\r\n  const handleReviewSubmission = (submission: MissionSubmission) => {\r\n    setSelectedSubmission(submission)\r\n    setReviewDialog(true)\r\n  }\r\n\r\n  const handleApproveSubmission = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (!selectedSubmission) return\r\n\r\n    try {\r\n      const formData = new FormData(e.currentTarget)\r\n      const reviewNotes = formData.get(\"reviewNotes\") as string\r\n\r\n      const mission = missions.find((m) => m.id === selectedSubmission.missionId)\r\n      if (!mission) return\r\n\r\n      const currentSubmissions = await getMissionSubmissions()\r\n      const updatedSubmissions = currentSubmissions.map((s) =>\r\n        s.id === selectedSubmission.id\r\n          ? {\r\n              ...s,\r\n              status: \"approved\" as const,\r\n              reviewNotes,\r\n              reviewedAt: new Date().toISOString(),\r\n            }\r\n          : s,\r\n      )\r\n      await saveMissionSubmissions(updatedSubmissions)\r\n      setSubmissions(updatedSubmissions)\r\n\r\n      const users = await getUsers()\r\n      const user = users.find((u) => u.id === selectedSubmission.userId)\r\n      if (user) {\r\n        await updateUserTokens(user.id, user.tokens + mission.tokenReward)\r\n\r\n        const transactions = await getTransactions()\r\n        const newTransaction: Transaction = {\r\n          id: Date.now().toString(),\r\n          userId: user.id,\r\n          type: \"credit\",\r\n          amount: mission.tokenReward,\r\n          source: \"mission\",\r\n          sourceRef: selectedSubmission.id,\r\n          description: `MisiÃ³n aprobada: ${mission.title}`,\r\n          date: new Date().toISOString(),\r\n        }\r\n        transactions.push(newTransaction)\r\n        await saveTransactions(transactions)\r\n      }\r\n\r\n      setReviewDialog(false)\r\n      setSelectedSubmission(null)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error approving submission:\", error)\r\n    }\r\n  }\r\n\r\n  const handleRejectSubmission = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (!selectedSubmission) return\r\n\r\n    try {\r\n      const formData = new FormData(e.currentTarget)\r\n      const reviewNotes = formData.get(\"reviewNotes\") as string\r\n\r\n      const currentSubmissions = await getMissionSubmissions()\r\n      const updatedSubmissions = currentSubmissions.map((s) =>\r\n        s.id === selectedSubmission.id\r\n          ? {\r\n              ...s,\r\n              status: \"rejected\" as const,\r\n              reviewNotes,\r\n              reviewedAt: new Date().toISOString(),\r\n            }\r\n          : s,\r\n      )\r\n      await saveMissionSubmissions(updatedSubmissions)\r\n      setSubmissions(updatedSubmissions)\r\n\r\n      setReviewDialog(false)\r\n      setSelectedSubmission(null)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error rejecting submission:\", error)\r\n    }\r\n  }\r\n\r\n  const filteredSubmissions =\r\n    filterStatus === \"all\" ? submissions : submissions.filter((s) => s.status === filterStatus)\r\n\r\n  const pendingCount = submissions.filter((s) => s.status === \"pending\").length\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center p-12\">\r\n        <p className=\"text-muted-foreground\">Cargando misiones...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Tabs defaultValue=\"review\">\r\n        <TabsList className=\"grid w-full grid-cols-2\">\r\n          <TabsTrigger value=\"review\">\r\n            Revisar postulaciones\r\n            {pendingCount > 0 && (\r\n              <Badge variant=\"destructive\" className=\"ml-2\">\r\n                {pendingCount}\r\n              </Badge>\r\n            )}\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"manage\">Gestionar misiones</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"review\" className=\"space-y-4\">\r\n          <div className=\"flex gap-2\">\r\n            <Select value={filterStatus} onValueChange={setFilterStatus}>\r\n              <SelectTrigger className=\"w-[200px]\">\r\n                <SelectValue placeholder=\"Filtrar por estado\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Todas</SelectItem>\r\n                <SelectItem value=\"pending\">Pendientes</SelectItem>\r\n                <SelectItem value=\"approved\">Aprobadas</SelectItem>\r\n                <SelectItem value=\"rejected\">Rechazadas</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          {filteredSubmissions.length === 0 ? (\r\n            <Card>\r\n              <CardContent className=\"py-12\">\r\n                <p className=\"text-center text-muted-foreground\">No hay postulaciones para revisar</p>\r\n              </CardContent>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {filteredSubmissions\r\n                .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\r\n                .map((submission) => {\r\n                  const mission = missions.find((m) => m.id === submission.missionId)\r\n                  const user = getUsers().find((u) => u.id === submission.userId)\r\n                  if (!mission || !user) return null\r\n\r\n                  return (\r\n                    <Card key={submission.id}>\r\n                      <CardContent className=\"p-4 space-y-3\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-balance\">{mission.title}</h3>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                              {user.email} - {new Date(submission.createdAt).toLocaleDateString(\"es-ES\")}\r\n                            </p>\r\n                          </div>\r\n                          <Badge\r\n                            variant={\r\n                              submission.status === \"approved\"\r\n                                ? \"default\"\r\n                                : submission.status === \"rejected\"\r\n                                  ? \"destructive\"\r\n                                  : \"secondary\"\r\n                            }\r\n                          >\r\n                            {submission.status === \"pending\" && \"Pendiente\"}\r\n                            {submission.status === \"approved\" && \"Aprobado\"}\r\n                            {submission.status === \"rejected\" && \"Rechazado\"}\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        {submission.evidenceUrl && (\r\n                          <div className=\"flex items-center gap-2 text-sm\">\r\n                            <ExternalLink className=\"h-4 w-4 text-muted-foreground\" />\r\n                            <a\r\n                              href={submission.evidenceUrl}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"text-primary hover:underline\"\r\n                            >\r\n                              Ver evidencia\r\n                            </a>\r\n                          </div>\r\n                        )}\r\n\r\n                        {submission.evidenceText && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">DescripciÃ³n:</span>\r\n                            <p className=\"mt-1 p-2 bg-muted rounded text-pretty\">{submission.evidenceText}</p>\r\n                          </div>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                          <Coins className=\"h-4 w-4 text-secondary\" />\r\n                          <span className=\"font-medium\">Recompensa: {mission.tokenReward} fichas</span>\r\n                        </div>\r\n\r\n                        {submission.status === \"pending\" && (\r\n                          <Button onClick={() => handleReviewSubmission(submission)} className=\"w-full\" size=\"sm\">\r\n                            Revisar postulaciÃ³n\r\n                          </Button>\r\n                        )}\r\n\r\n                        {submission.reviewNotes && (\r\n                          <div className=\"text-sm\">\r\n                            <span className=\"text-muted-foreground\">Notas:</span>\r\n                            <p className=\"mt-1 p-2 bg-muted rounded text-pretty\">{submission.reviewNotes}</p>\r\n                          </div>\r\n                        )}\r\n                      </CardContent>\r\n                    </Card>\r\n                  )\r\n                })}\r\n            </div>\r\n          )}\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"manage\" className=\"space-y-4\">\r\n          <Dialog open={newMissionDialog} onOpenChange={setNewMissionDialog}>\r\n            <DialogTrigger asChild>\r\n              <Button>\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Nueva misiÃ³n\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-2xl\">\r\n              <form onSubmit={handleCreateMission}>\r\n                <DialogHeader>\r\n                  <DialogTitle>Crear nueva misiÃ³n</DialogTitle>\r\n                  <DialogDescription>Define una nueva misiÃ³n para que los empleados postulen</DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-4 py-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"title\">TÃ­tulo</Label>\r\n                    <Input id=\"title\" name=\"title\" placeholder=\"Completar curso de desarrollo\" required />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"type\">Tipo</Label>\r\n                    <Select name=\"type\" required>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Selecciona tipo\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"curso\">Curso</SelectItem>\r\n                        <SelectItem value=\"proyecto\">Proyecto</SelectItem>\r\n                        <SelectItem value=\"voluntariado\">Voluntariado</SelectItem>\r\n                        <SelectItem value=\"idea\">Idea</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"description\">DescripciÃ³n</Label>\r\n                    <Textarea\r\n                      id=\"description\"\r\n                      name=\"description\"\r\n                      placeholder=\"Describe quÃ© deben hacer los empleados...\"\r\n                      rows={3}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"tokenReward\">Recompensa (fichas)</Label>\r\n                      <Input id=\"tokenReward\" name=\"tokenReward\" type=\"number\" min=\"1\" placeholder=\"300\" required />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"maxPerUser\">MÃ¡ximo por usuario</Label>\r\n                      <Input id=\"maxPerUser\" name=\"maxPerUser\" type=\"number\" min=\"1\" placeholder=\"3\" required />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"tags\">Tags (separados por comas)</Label>\r\n                    <Input id=\"tags\" name=\"tags\" placeholder=\"desarrollo, educaciÃ³n\" required />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"endAt\" className=\"flex items-center gap-2\">\r\n                      <Calendar className=\"h-4 w-4\" />\r\n                      Fecha lÃ­mite (opcional)\r\n                    </Label>\r\n                    <Input id=\"endAt\" name=\"endAt\" type=\"date\" />\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Switch id=\"evidenceRequired\" name=\"evidenceRequired\" defaultChecked />\r\n                    <Label htmlFor=\"evidenceRequired\">Requiere evidencia</Label>\r\n                  </div>\r\n                </div>\r\n\r\n                <DialogFooter>\r\n                  <Button type=\"submit\">Crear misiÃ³n</Button>\r\n                </DialogFooter>\r\n              </form>\r\n            </DialogContent>\r\n          </Dialog>\r\n\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            {missions.map((mission) => (\r\n              <Card key={mission.id}>\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"space-y-1\">\r\n                      <CardTitle className=\"text-lg text-balance\">{mission.title}</CardTitle>\r\n                      <div className=\"flex gap-2 flex-wrap\">\r\n                        <Badge variant=\"outline\">{mission.type}</Badge>\r\n                        {mission.tags.map((tag) => (\r\n                          <Badge key={tag} variant=\"secondary\">\r\n                            {tag}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <Badge className=\"gap-1\">\r\n                      <Coins className=\"h-3 w-3\" />\r\n                      {mission.tokenReward}\r\n                    </Badge>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2\">\r\n                  <p className=\"text-sm text-muted-foreground text-pretty\">{mission.description}</p>\r\n                  <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\r\n                    <span>MÃ¡ximo: {mission.maxPerUser} por usuario</span>\r\n                    <Badge variant={mission.active ? \"default\" : \"secondary\"}>\r\n                      {mission.active ? \"Activa\" : \"Inactiva\"}\r\n                    </Badge>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Review Dialog */}\r\n      <Dialog open={reviewDialog} onOpenChange={setReviewDialog}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Revisar postulaciÃ³n</DialogTitle>\r\n            <DialogDescription>Aprobar o rechazar la postulaciÃ³n del empleado</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {selectedSubmission && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"p-3 bg-muted rounded-lg space-y-2 text-sm\">\r\n                <div>\r\n                  <span className=\"font-medium\">MisiÃ³n: </span>\r\n                  {missions.find((m) => m.id === selectedSubmission.missionId)?.title}\r\n                </div>\r\n                <div>\r\n                  <span className=\"font-medium\">Empleado: </span>\r\n                  {getUsers().find((u) => u.id === selectedSubmission.userId)?.email}\r\n                </div>\r\n                {selectedSubmission.evidenceUrl && (\r\n                  <div>\r\n                    <span className=\"font-medium\">Enlace: </span>\r\n                    <a\r\n                      href={selectedSubmission.evidenceUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-primary hover:underline\"\r\n                    >\r\n                      Ver evidencia\r\n                    </a>\r\n                  </div>\r\n                )}\r\n                {selectedSubmission.evidenceText && (\r\n                  <div>\r\n                    <span className=\"font-medium\">DescripciÃ³n: </span>\r\n                    <p className=\"mt-1 text-pretty\">{selectedSubmission.evidenceText}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <form onSubmit={handleApproveSubmission} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"reviewNotes\">Notas (opcional)</Label>\r\n                  <Textarea\r\n                    id=\"reviewNotes\"\r\n                    name=\"reviewNotes\"\r\n                    placeholder=\"Comentarios sobre la postulaciÃ³n...\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                  <Button type=\"submit\" className=\"flex-1 gap-2\">\r\n                    <CheckCircle2 className=\"h-4 w-4\" />\r\n                    Aprobar\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"destructive\"\r\n                    className=\"flex-1 gap-2\"\r\n                    onClick={async (e) => {\r\n                      const form = e.currentTarget.closest(\"form\")\r\n                      if (form) {\r\n                        const fakeEvent = {\r\n                          preventDefault: () => {},\r\n                          currentTarget: form,\r\n                        } as React.FormEvent<HTMLFormElement>\r\n                        await handleRejectSubmission(fakeEvent)\r\n                      }\r\n                    }}\r\n                  >\r\n                    <XCircle className=\"h-4 w-4\" />\r\n                    Rechazar\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/admin-dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { logout } from \"@/lib/auth\"\r\nimport {\r\n  getAllUsers,\r\n  getAllPrizes,\r\n  getUserAchievements,\r\n  getAllRedemptions,\r\n  getAllAchievementTemplates,\r\n  createPrize,\r\n  updatePrize,\r\n  createAchievement,\r\n  updateAchievementTemplate,\r\n  updateUser,\r\n  createTransaction,\r\n} from \"@/lib/firebase/db\"\r\nimport type { Prize, Achievement, User, AchievementTemplate, Redemption } from \"@/lib/storage\"\r\nimport { Users, Gift, Trophy, Plus, History, Target, Edit, Settings } from 'lucide-react'\r\nimport { AdminMissions } from \"./missions/admin-missions\"\r\n\r\nexport function AdminDashboard({ user: adminUser, onLogout }: { user: User; onLogout: () => void }) {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [prizes, setPrizes] = useState<Prize[]>([])\r\n  const [achievements, setAchievements] = useState<Achievement[]>([])\r\n  const [redemptions, setRedemptions] = useState<Redemption[]>([])\r\n  const [templates, setTemplates] = useState<AchievementTemplate[]>([])\r\n  const [newPrizeDialog, setNewPrizeDialog] = useState(false)\r\n  const [newAchievementDialog, setNewAchievementDialog] = useState(false)\r\n  const [editPrizeDialog, setEditPrizeDialog] = useState(false)\r\n  const [editTemplateDialog, setEditTemplateDialog] = useState(false)\r\n  const [editingPrize, setEditingPrize] = useState<Prize | null>(null)\r\n  const [editingTemplate, setEditingTemplate] = useState<AchievementTemplate | null>(null)\r\n  const [activeTab, setActiveTab] = useState(\"employees\")\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const [usersData, prizesData, templatesData, redemptionsData] = await Promise.all([\r\n          getAllUsers(),\r\n          getAllPrizes(),\r\n          getAllAchievementTemplates(),\r\n          getAllRedemptions(),\r\n        ])\r\n\r\n        const allAchievements: Achievement[] = []\r\n        for (const user of usersData) {\r\n          const userAchievements = await getUserAchievements(user.id)\r\n          allAchievements.push(...userAchievements)\r\n        }\r\n\r\n        setUsers(usersData)\r\n        setPrizes(prizesData)\r\n        setTemplates(templatesData)\r\n        setRedemptions(redemptionsData)\r\n        setAchievements(allAchievements)\r\n      } catch (error) {\r\n        console.error(\"[v0] Error loading data:\", error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const handleLogout = async () => {\r\n    await logout()\r\n    onLogout()\r\n  }\r\n\r\n  const handleCreatePrize = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    const formData = new FormData(e.currentTarget)\r\n\r\n    try {\r\n      const newPrize: Omit<Prize, \"id\"> = {\r\n        name: formData.get(\"name\") as string,\r\n        description: formData.get(\"description\") as string,\r\n        cost: Number.parseInt(formData.get(\"cost\") as string),\r\n        image: `/placeholder.svg?height=200&width=200&query=${encodeURIComponent(formData.get(\"name\") as string)}`,\r\n        available: true,\r\n      }\r\n\r\n      await createPrize(newPrize)\r\n      const updatedPrizes = await getAllPrizes()\r\n      setPrizes(updatedPrizes)\r\n      setNewPrizeDialog(false)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error creating prize:\", error)\r\n    }\r\n  }\r\n\r\n  const handleEditPrize = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (!editingPrize) return\r\n\r\n    const formData = new FormData(e.currentTarget)\r\n    const discount = formData.get(\"discount\") ? Number.parseInt(formData.get(\"discount\") as string) : undefined\r\n    const newCost = Number.parseInt(formData.get(\"cost\") as string)\r\n\r\n    try {\r\n      const updatedData: Partial<Prize> = {\r\n        name: formData.get(\"name\") as string,\r\n        description: formData.get(\"description\") as string,\r\n        cost: discount ? Math.round(newCost * (1 - discount / 100)) : newCost,\r\n        originalCost: discount ? newCost : undefined,\r\n        discount,\r\n        label: (formData.get(\"label\") as string) || undefined,\r\n      }\r\n\r\n      await updatePrize(editingPrize.id, updatedData)\r\n      const updatedPrizes = await getAllPrizes()\r\n      setPrizes(updatedPrizes)\r\n      setEditPrizeDialog(false)\r\n      setEditingPrize(null)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error updating prize:\", error)\r\n    }\r\n  }\r\n\r\n  const handleCreateAchievement = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    const formData = new FormData(e.currentTarget)\r\n    const templateId = formData.get(\"templateId\") as string\r\n    const userId = formData.get(\"userId\") as string\r\n    const template = templates.find((t) => t.id === templateId)\r\n    if (!template) return\r\n\r\n    try {\r\n      const newAchievement: Omit<Achievement, \"id\"> = {\r\n        userId,\r\n        templateId: template.id,\r\n        title: template.title,\r\n        description: template.description,\r\n        tokensAwarded: template.reward,\r\n        date: new Date().toISOString(),\r\n        count: 1,\r\n      }\r\n\r\n      await createAchievement(newAchievement)\r\n\r\n      const user = users.find((u) => u.id === userId)\r\n      if (user) {\r\n        await updateUser(userId, { tokens: user.tokens + template.reward })\r\n        await createTransaction({\r\n          userId,\r\n          type: \"credit\",\r\n          amount: template.reward,\r\n          source: \"achievement\",\r\n          sourceRef: template.id,\r\n          description: `Logro: ${template.title}`,\r\n          date: new Date().toISOString(),\r\n        })\r\n      }\r\n\r\n      const updatedAchievements = await getUserAchievements(userId)\r\n      setAchievements([...achievements, ...updatedAchievements])\r\n      setNewAchievementDialog(false)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error creating achievement:\", error)\r\n    }\r\n  }\r\n\r\n  const handleEditTemplate = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (!editingTemplate) return\r\n\r\n    const formData = new FormData(e.currentTarget)\r\n\r\n    try {\r\n      const updatedData: Partial<AchievementTemplate> = {\r\n        title: formData.get(\"title\") as string,\r\n        description: formData.get(\"description\") as string,\r\n        reward: Number.parseInt(formData.get(\"reward\") as string),\r\n        platinumRequirement: Number.parseInt(formData.get(\"platinumRequirement\") as string),\r\n      }\r\n\r\n      await updateAchievementTemplate(editingTemplate.id, updatedData)\r\n      const updatedTemplates = await getAllAchievementTemplates()\r\n      setTemplates(updatedTemplates)\r\n      setEditTemplateDialog(false)\r\n      setEditingTemplate(null)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error updating template:\", error)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\">\r\n        <div className=\"text-lg\">Cargando...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!adminUser || adminUser.role !== \"admin\") return null\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <main className=\"container mx-auto px-4 py-8 space-y-8\">\r\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\r\n          <TabsList className=\"grid w-full grid-cols-6\">\r\n            <TabsTrigger value=\"employees\" className=\"gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Empleados\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"missions\" className=\"gap-2\">\r\n              <Target className=\"h-4 w-4\" />\r\n              Misiones\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"templates\" className=\"gap-2\">\r\n              <Settings className=\"h-4 w-4\" />\r\n              Plantillas\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"achievements\" className=\"gap-2\">\r\n              <Trophy className=\"h-4 w-4\" />\r\n              Logros\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"prizes\" className=\"gap-2\">\r\n              <Gift className=\"h-4 w-4\" />\r\n              Premios\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"history\" className=\"gap-2\">\r\n              <History className=\"h-4 w-4\" />\r\n              Historial\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Employees Tab Content */}\r\n          <TabsContent value=\"employees\">\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Users className=\"h-5 w-5\" />\r\n                    Empleados\r\n                  </CardTitle>\r\n                  <CardDescription>Gestiona usuarios y sus fichas</CardDescription>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {users\r\n                    .filter((u) => u.role === \"employee\")\r\n                    .map((employee) => (\r\n                      <div key={employee.id} className=\"flex items-center justify-between p-4 bg-accent rounded-lg\">\r\n                        <div>\r\n                          <h3 className=\"font-semibold\">{employee.name}</h3>\r\n                          <p className=\"text-sm text-muted-foreground\">\r\n                            {employee.email} - {employee.department}\r\n                          </p>\r\n                        </div>\r\n                        <Badge variant=\"secondary\" className=\"text-base px-4 py-2\">\r\n                          {employee.tokens} fichas\r\n                        </Badge>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Missions Tab Content */}\r\n          <TabsContent value=\"missions\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Target className=\"h-5 w-5\" />\r\n                  GestiÃ³n de Misiones\r\n                </CardTitle>\r\n                <CardDescription>Crea misiones y revisa postulaciones de empleados</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <AdminMissions />\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"templates\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Settings className=\"h-5 w-5\" />\r\n                  Plantillas de Logros\r\n                </CardTitle>\r\n                <CardDescription>Edita recompensas y requisitos para platino</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                  {templates.map((template) => (\r\n                    <Card key={template.id}>\r\n                      <CardContent className=\"p-4 space-y-3\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold\">{template.title}</h3>\r\n                            <p className=\"text-sm text-muted-foreground\">{template.description}</p>\r\n                            <Badge variant=\"secondary\" className=\"mt-2\">\r\n                              {template.category}\r\n                            </Badge>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                          <span className=\"text-muted-foreground\">Recompensa: {template.reward} fichas</span>\r\n                          <span className=\"text-muted-foreground\">Platino: {template.platinumRequirement}x</span>\r\n                        </div>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"w-full bg-transparent\"\r\n                          onClick={() => {\r\n                            setEditingTemplate(template)\r\n                            setEditTemplateDialog(true)\r\n                          }}\r\n                        >\r\n                          <Edit className=\"h-3 w-3 mr-2\" />\r\n                          Editar\r\n                        </Button>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Achievements Tab Content */}\r\n          <TabsContent value=\"achievements\">\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Trophy className=\"h-5 w-5\" />\r\n                    Logros\r\n                  </CardTitle>\r\n                  <CardDescription>Otorga logros manualmente a empleados</CardDescription>\r\n                </div>\r\n                <Dialog open={newAchievementDialog} onOpenChange={setNewAchievementDialog}>\r\n                  <DialogTrigger asChild>\r\n                    <Button>\r\n                      <Plus className=\"h-4 w-4 mr-2\" />\r\n                      Otorgar logro\r\n                    </Button>\r\n                  </DialogTrigger>\r\n                  <DialogContent>\r\n                    <form onSubmit={handleCreateAchievement}>\r\n                      <DialogHeader>\r\n                        <DialogTitle>Otorgar logro a empleado</DialogTitle>\r\n                        <CardDescription>Selecciona un logro predefinido para otorgar</CardDescription>\r\n                      </DialogHeader>\r\n                      <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"userId\">Empleado</Label>\r\n                          <Select name=\"userId\" required>\r\n                            <SelectTrigger>\r\n                              <SelectValue placeholder=\"Selecciona empleado\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                              {users\r\n                                .filter((u) => u.role === \"employee\")\r\n                                .map((u) => (\r\n                                  <SelectItem key={u.id} value={u.id}>\r\n                                    {u.name} - {u.email}\r\n                                  </SelectItem>\r\n                                ))}\r\n                            </SelectContent>\r\n                          </Select>\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"templateId\">Logro</Label>\r\n                          <Select name=\"templateId\" required>\r\n                            <SelectTrigger>\r\n                              <SelectValue placeholder=\"Selecciona logro\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                              {templates.map((t) => (\r\n                                <SelectItem key={t.id} value={t.id}>\r\n                                  {t.title} ({t.reward} fichas)\r\n                                </SelectItem>\r\n                              ))}\r\n                            </SelectContent>\r\n                          </Select>\r\n                        </div>\r\n                      </div>\r\n                      <DialogFooter>\r\n                        <Button type=\"submit\">Otorgar logro</Button>\r\n                      </DialogFooter>\r\n                    </form>\r\n                  </DialogContent>\r\n                </Dialog>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {achievements\r\n                    .slice(-10)\r\n                    .reverse()\r\n                    .map((achievement) => {\r\n                      const employee = users.find((u) => u.id === achievement.userId)\r\n                      return (\r\n                        <div key={achievement.id} className=\"flex items-start justify-between p-4 bg-accent rounded-lg\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold\">{achievement.title}</h3>\r\n                            <p className=\"text-sm text-muted-foreground\">{achievement.description}</p>\r\n                            <p className=\"text-xs text-muted-foreground mt-1\">\r\n                              {employee?.name} - {new Date(achievement.date).toLocaleDateString(\"es-ES\")}\r\n                            </p>\r\n                          </div>\r\n                          <Badge>+{achievement.tokensAwarded} fichas</Badge>\r\n                        </div>\r\n                      )\r\n                    })}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Prizes Tab Content */}\r\n          <TabsContent value=\"prizes\">\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Gift className=\"h-5 w-5\" />\r\n                    Premios\r\n                  </CardTitle>\r\n                  <CardDescription>Gestiona el catÃ¡logo de recompensas</CardDescription>\r\n                </div>\r\n                <Dialog open={newPrizeDialog} onOpenChange={setNewPrizeDialog}>\r\n                  <DialogTrigger asChild>\r\n                    <Button>\r\n                      <Plus className=\"h-4 w-4 mr-2\" />\r\n                      Nuevo premio\r\n                    </Button>\r\n                  </DialogTrigger>\r\n                  <DialogContent>\r\n                    <form onSubmit={handleCreatePrize}>\r\n                      <DialogHeader>\r\n                        <DialogTitle>Crear nuevo premio</DialogTitle>\r\n                        <DialogDescription>AÃ±ade una nueva recompensa al catÃ¡logo</DialogDescription>\r\n                      </DialogHeader>\r\n                      <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"name\">Nombre</Label>\r\n                          <Input id=\"name\" name=\"name\" placeholder=\"Ej: DÃ­a libre extra\" required />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"description\">DescripciÃ³n</Label>\r\n                          <Textarea id=\"description\" name=\"description\" placeholder=\"Describe el premio...\" required />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor=\"cost\">Costo (fichas)</Label>\r\n                          <Input id=\"cost\" name=\"cost\" type=\"number\" min=\"1\" placeholder=\"500\" required />\r\n                        </div>\r\n                      </div>\r\n                      <DialogFooter>\r\n                        <Button type=\"submit\">Crear premio</Button>\r\n                      </DialogFooter>\r\n                    </form>\r\n                  </DialogContent>\r\n                </Dialog>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                  {prizes.map((prize) => (\r\n                    <Card key={prize.id}>\r\n                      <div className=\"relative\">\r\n                        <img\r\n                          src={prize.image || \"/placeholder.svg\"}\r\n                          alt={prize.name}\r\n                          className=\"w-full h-32 object-cover rounded-t-lg\"\r\n                        />\r\n                        {prize.label && (\r\n                          <Badge className=\"absolute top-2 right-2 bg-destructive text-destructive-foreground\">\r\n                            {prize.label}\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                      <CardContent className=\"p-4 space-y-2\">\r\n                        <h3 className=\"font-semibold text-balance\">{prize.name}</h3>\r\n                        <p className=\"text-sm text-muted-foreground text-pretty\">{prize.description}</p>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {prize.discount && prize.originalCost ? (\r\n                            <>\r\n                              <Badge variant=\"secondary\">{prize.cost} fichas</Badge>\r\n                              <span className=\"text-xs text-muted-foreground line-through\">\r\n                                {prize.originalCost} fichas\r\n                              </span>\r\n                              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                -{prize.discount}%\r\n                              </Badge>\r\n                            </>\r\n                          ) : (\r\n                            <Badge variant=\"secondary\">{prize.cost} fichas</Badge>\r\n                          )}\r\n                        </div>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          className=\"w-full bg-transparent\"\r\n                          onClick={() => {\r\n                            setEditingPrize(prize)\r\n                            setEditPrizeDialog(true)\r\n                          }}\r\n                        >\r\n                          <Edit className=\"h-3 w-3 mr-2\" />\r\n                          Editar\r\n                        </Button>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Redemptions History Tab Content */}\r\n          <TabsContent value=\"history\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <History className=\"h-5 w-5\" />\r\n                  Historial de canjes\r\n                </CardTitle>\r\n                <CardDescription>Premios canjeados por empleados</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {redemptions.length === 0 ? (\r\n                    <p className=\"text-muted-foreground text-center py-8\">No hay canjes registrados aÃºn</p>\r\n                  ) : (\r\n                    redemptions\r\n                      .slice(-10)\r\n                      .reverse()\r\n                      .map((redemption) => {\r\n                        const employee = users.find((u) => u.id === redemption.userId)\r\n                        return (\r\n                          <div\r\n                            key={redemption.id}\r\n                            className=\"flex items-center justify-between p-4 bg-accent rounded-lg\"\r\n                          >\r\n                            <div>\r\n                              <h3 className=\"font-semibold\">{redemption.prizeName}</h3>\r\n                              <p className=\"text-sm text-muted-foreground\">\r\n                                {employee?.name} - {new Date(redemption.date).toLocaleDateString(\"es-ES\")}\r\n                              </p>\r\n                            </div>\r\n                            <Badge variant=\"outline\">{redemption.tokensCost} fichas</Badge>\r\n                          </div>\r\n                        )\r\n                      })\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </main>\r\n\r\n      {/* Edit Prize Dialog */}\r\n      <Dialog open={editPrizeDialog} onOpenChange={setEditPrizeDialog}>\r\n        <DialogContent>\r\n          <form onSubmit={handleEditPrize}>\r\n            <DialogHeader>\r\n              <DialogTitle>Editar premio</DialogTitle>\r\n              <DialogDescription>Modifica el premio y agrega promociones especiales</DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-name\">Nombre</Label>\r\n                <Input\r\n                  id=\"edit-name\"\r\n                  name=\"name\"\r\n                  defaultValue={editingPrize?.name}\r\n                  placeholder=\"Ej: DÃ­a libre extra\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-description\">DescripciÃ³n</Label>\r\n                <Textarea\r\n                  id=\"edit-description\"\r\n                  name=\"description\"\r\n                  defaultValue={editingPrize?.description}\r\n                  placeholder=\"Describe el premio...\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-cost\">Costo base (fichas)</Label>\r\n                <Input\r\n                  id=\"edit-cost\"\r\n                  name=\"cost\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  defaultValue={editingPrize?.originalCost || editingPrize?.cost}\r\n                  placeholder=\"500\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-discount\">Descuento (%) - Opcional</Label>\r\n                <Input\r\n                  id=\"edit-discount\"\r\n                  name=\"discount\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  defaultValue={editingPrize?.discount}\r\n                  placeholder=\"50\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">Ej: 50 para 50% de descuento</p>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-label\">Etiqueta especial - Opcional</Label>\r\n                <Input\r\n                  id=\"edit-label\"\r\n                  name=\"label\"\r\n                  defaultValue={editingPrize?.label}\r\n                  placeholder=\"Por tiempo limitado\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Ej: \"Por tiempo limitado\", \"Oferta especial\", \"Ãšltimo dÃ­a\"\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button type=\"submit\">Guardar cambios</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={editTemplateDialog} onOpenChange={setEditTemplateDialog}>\r\n        <DialogContent>\r\n          <form onSubmit={handleEditTemplate}>\r\n            <DialogHeader>\r\n              <DialogTitle>Editar plantilla de logro</DialogTitle>\r\n              <DialogDescription>Modifica la recompensa y requisitos para platino</DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"template-title\">TÃ­tulo</Label>\r\n                <Input\r\n                  id=\"template-title\"\r\n                  name=\"title\"\r\n                  defaultValue={editingTemplate?.title}\r\n                  placeholder=\"TÃ­tulo del logro\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"template-description\">DescripciÃ³n</Label>\r\n                <Textarea\r\n                  id=\"template-description\"\r\n                  name=\"description\"\r\n                  defaultValue={editingTemplate?.description}\r\n                  placeholder=\"DescripciÃ³n del logro\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"template-reward\">Recompensa (fichas)</Label>\r\n                <Input\r\n                  id=\"template-reward\"\r\n                  name=\"reward\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  defaultValue={editingTemplate?.reward}\r\n                  placeholder=\"100\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"template-platinum\">Requisito para platino (repeticiones)</Label>\r\n                <Input\r\n                  id=\"template-platinum\"\r\n                  name=\"platinumRequirement\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  defaultValue={editingTemplate?.platinumRequirement}\r\n                  placeholder=\"10\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">CuÃ¡ntas veces debe lograrse para alcanzar platino</p>\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button type=\"submit\">Guardar cambios</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminDashboard\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9280, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/components/auth-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { login, register } from \"@/lib/auth\"\r\nimport { Sparkles, Crown, Shield } from 'lucide-react'\r\nimport { BrandImage } from \"@/components/brand-image\"\r\n\r\nexport function AuthForm({ onSuccess }: { onSuccess: () => void }) {\r\n  const [loginEmail, setLoginEmail] = useState(\"\")\r\n  const [loginPassword, setLoginPassword] = useState(\"\")\r\n  const [registerEmail, setRegisterEmail] = useState(\"\")\r\n  const [registerPassword, setRegisterPassword] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n    setLoading(true)\r\n    try {\r\n      const user = await login(loginEmail, loginPassword)\r\n      if (user) {\r\n        onSuccess()\r\n      } else {\r\n        setError(\"Credenciales incorrectas\")\r\n      }\r\n    } catch (error) {\r\n      setError(\"Error al iniciar sesiÃ³n\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleRegister = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n    setLoading(true)\r\n    try {\r\n      const user = await register(registerEmail, registerPassword)\r\n      if (user) {\r\n        onSuccess()\r\n      } else {\r\n        setError(\"El email ya estÃ¡ registrado\")\r\n      }\r\n    } catch (error) {\r\n      setError(\"Error al registrar usuario\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-10\">\r\n      {/* Hero */}\r\n      <div className=\"relative mx-auto max-w-4xl rounded-3xl border border-[var(--border)]/60 bg-card/60 backdrop-blur-md shadow-xl p-8 md:p-12\">\r\n        <div className=\"flex justify-center mb-6\">\r\n          <div className=\"rounded-2xl ring-1 ring-[var(--border)]/50 bg-gradient-to-br from-primary/30 to-secondary/30 p-3\">\r\n            <BrandImage name=\"pnglogo\" alt=\"MotivaPlay\" className=\"h-16 w-16\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"text-center space-y-3\">\r\n          <p className=\"text-xs md:text-sm tracking-[0.25em] text-muted-foreground\">IMPULSA RESULTADOS â€¢ CANJES INSTANTÃNEOS â€¢ Ã‰TICA Y TRANSPARENCIA</p>\r\n          <h1 className=\"text-5xl md:text-6xl font-extrabold\">MotivaPlay</h1>\r\n          <p className=\"text-base md:text-lg text-muted-foreground\">El casino corporativo que transforma el reconocimiento en experiencias memorables.</p>\r\n        </div>\r\n        <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <Card className=\"bg-background/40\">\r\n            <CardHeader className=\"space-y-1\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Sparkles className=\"h-5 w-5\" />\r\n                GamificaciÃ³n responsable\r\n              </CardTitle>\r\n              <CardDescription>Impulsa resultados premiando el esfuerzo real.</CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n          <Card className=\"bg-background/40\">\r\n            <CardHeader className=\"space-y-1\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Crown className=\"h-5 w-5\" />\r\n                Premios irresistibles\r\n              </CardTitle>\r\n              <CardDescription>Canjes instantÃ¡neos y catÃ¡logo configurable.</CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n          <Card className=\"bg-background/40\">\r\n            <CardHeader className=\"space-y-1\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Shield className=\"h-5 w-5\" />\r\n                Ã‰tica y transparencia\r\n              </CardTitle>\r\n              <CardDescription>Revisa fichas y logros sin fricciones.</CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Auth card */}\r\n      <Card className=\"w-full max-w-md mx-auto shadow-xl\">\r\n        <CardHeader className=\"space-y-2 text-center\">\r\n          <div className=\"flex justify-center mb-2\">\r\n            <div className=\"bg-primary text-primary-foreground p-3 rounded-xl\">\r\n              <Sparkles className=\"h-8 w-8\" />\r\n            </div>\r\n          </div>\r\n          <CardTitle className=\"text-3xl font-bold text-balance\">Accede a tu cuenta</CardTitle>\r\n          <CardDescription className=\"text-base\">Inicia sesiÃ³n o regÃ­strate para empezar a jugar</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Tabs defaultValue=\"login\" className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-2\">\r\n              <TabsTrigger value=\"login\">Iniciar sesiÃ³n</TabsTrigger>\r\n              <TabsTrigger value=\"register\">Registrarse</TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"login\">\r\n              <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"login-email\">Email</Label>\r\n                  <Input\r\n                    id=\"login-email\"\r\n                    type=\"email\"\r\n                    placeholder=\"tu@email.com\"\r\n                    value={loginEmail}\r\n                    onChange={(e) => setLoginEmail(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"login-password\">ContraseÃ±a</Label>\r\n                  <Input\r\n                    id=\"login-password\"\r\n                    type=\"password\"\r\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                    value={loginPassword}\r\n                    onChange={(e) => setLoginPassword(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                  {loading ? \"Iniciando sesiÃ³n...\" : \"Iniciar sesiÃ³n\"}\r\n                </Button>\r\n              </form>\r\n              <div className=\"mt-4 p-3 bg-muted rounded-lg text-sm space-y-1\">\r\n                <p className=\"font-medium\">Credenciales Demo:</p>\r\n                <p>Admin: admin@motivaplay.com / admin123</p>\r\n                <p>Empleado: empleado@motivaplay.com / empleado123</p>\r\n                <p>Amiga: amiga@motivaplay.com / amiga123</p>\r\n              </div>\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"register\">\r\n              <form onSubmit={handleRegister} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"register-email\">Email</Label>\r\n                  <Input\r\n                    id=\"register-email\"\r\n                    type=\"email\"\r\n                    placeholder=\"tu@email.com\"\r\n                    value={registerEmail}\r\n                    onChange={(e) => setRegisterEmail(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"register-password\">ContraseÃ±a</Label>\r\n                  <Input\r\n                    id=\"register-password\"\r\n                    type=\"password\"\r\n                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                    value={registerPassword}\r\n                    onChange={(e) => setRegisterPassword(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                {error && <p className=\"text-sm text-destructive\">{error}</p>}\r\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                  {loading ? \"Creando cuenta...\" : \"Crear cuenta\"}\r\n                </Button>\r\n              </form>\r\n            </TabsContent>\r\n          </Tabs>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9878, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tomye/Tareas%20Rolling-IA%20Codeboost/v0-ethical-casino-app/app/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { onAuthChange } from '@/lib/auth'\r\nimport type { User } from '@/lib/storage'\r\nimport { EmployeeDashboard } from '@/components/employee-dashboard'\r\nimport { AdminDashboard } from '@/components/admin-dashboard'\r\nimport { AuthForm } from '@/components/auth-form'\r\n\r\nexport default function Home() {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthChange((currentUser) => {\r\n      setUser(currentUser)\r\n      setLoading(false)\r\n    })\r\n\r\n    const timeout = setTimeout(() => {\r\n      setLoading(false)\r\n    }, 5000)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n      unsubscribe()\r\n    }\r\n  }, [])\r\n\r\n  const refreshUser = () => {\r\n    setLoading(true)\r\n  }\r\n\r\n\r\n\r\n  if (!user) {\r\n    return <AuthForm onSuccess={refreshUser} />\r\n  }\r\n\r\n  return user.role === 'admin' ? (\r\n    <AdminDashboard user={user} onLogout={() => setUser(null)} />\r\n  ) : (\r\n    <EmployeeDashboard user={user} onLogout={() => setUser(null)} />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAA,2HAAY,EAAC,CAAC;YAChC,QAAQ;YACR,WAAW;QACb;QAEA,MAAM,UAAU,WAAW;YACzB,WAAW;QACb,GAAG;QAEH,OAAO;YACL,aAAa;YACb;QACF;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,WAAW;IACb;IAIA,IAAI,CAAC,MAAM;QACT,qBAAO,8OAAC,uIAAQ;YAAC,WAAW;;;;;;IAC9B;IAEA,OAAO,KAAK,IAAI,KAAK,wBACnB,8OAAC,mJAAc;QAAC,MAAM;QAAM,UAAU,IAAM,QAAQ;;;;;6BAEpD,8OAAC,yJAAiB;QAAC,MAAM;QAAM,UAAU,IAAM,QAAQ;;;;;;AAE3D","debugId":null}}]
}